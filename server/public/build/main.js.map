{"version":3,"sources":["webpack:///webpack/bootstrap cffa373823a4bb4101ab","webpack:///./assets/main.js","webpack:///./assets/js/assets.js","webpack:///./build_config/js/assetsDomain.js","webpack:///./build_config/js/fingerprint.js","webpack:///./assets/js/app/module.js","webpack:///./assets/js/app/services.js","webpack:///./assets/js/app/controllers.js","webpack:///./assets/js/app/controllers/mainCtrl.js","webpack:///./assets/js/app/helpers.js","webpack:///./assets/js/app/controllers/modalStatisticsCtrl.js","webpack:///./assets/js/app/controllers/modalSensorLabelCtrl.js","webpack:///./assets/js/app/routes.js","webpack:///./assets/js/app/filters.js","webpack:///bootstrap-sass (bower component)","webpack:///./bower_components/bootstrap-sass/assets/javascripts/bootstrap.js","webpack:///./assets/js/lib/responsive-calendar.js"],"names":["require","assetsDomain","fingerprint","exports","inApp","bower","module","angular","service","$rootScope","socket","io","connect","on","eventName","callback","args","arguments","$apply","apply","emit","data","$http","url","check","get","then","document","location","reload","console","log","passCodeEl","$","passCodeEvt","modalOpen","securityKeypadModal","changeValue","removeClass","val","value","trigger","length","addClass","onKeyPress","numberKey","parseInt","key","substr","addEventListener","evt","target","getAttribute","Promise","resolve","modal","onValid","off","onClosed","status","helpers","SECURITY_STATUSES","DISARMED","ARMING","ARMED","PREACTIVATED","ACTIVATED","SECURITY_ARMED_STATUSES","processPlanForDisplay","heatingPlan","lastPercent","intervals","forEach","interval","index","label","labelPosition","blockPosition","percentInDay","getPercentInDay","startHour","startMinute","pad","getCurrentTemp","todaysPlan","temp","today","Date","getHours","getMinutes","updateView","$scope","d","currentTime","currentDate","targetTemp","plan","ref","controller","$uibModal","socketio","loginStatus","passcode","lastUpdate","security","inside","humi","outside","weatherIconClass","temps","heatingPlans","heatingDefaultPlans","isHeatingOn","init","statisticsForToday","heatingDuration","initInProgress","restartSensorInProgress","dayNameByIndex","statisticsModalOpen","open","templateUrl","size","result","openModalChangeSensorLabel","id","content","individual","results","post","toggleSensorStatus","handleServerData","temperature","humidity","backgroundImage","body","style","substring","lastIndexOf","ids","Object","keys","activeCount","active","enabled","Math","round","temperatures","_id","assign","override","dayOfWeek","nameOfDay","getDay","getTime","response","setInterval","err","tempAdjust","parseFloat","toFixed","restartSensor","securityToggleAlarm","selectedDayOfWeekToChange","selectPlanModal","e","srcEl","relatedTarget","selectPlan","planId","scope","refresh","num","s","hour","minute","undefined","now","statisticsForLastMonth","minTargetTemp","min","map","item","avgTargetTemp","maxTargetTemp","max","minAvgOutsideTemp","avgOutsideTemp","maxAvgOutsideTemp","Chart","querySelector","type","options","maintainAspectRatio","responsive","datasets","yAxisID","x","date","y","runningMinutes","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","fill","tooltips","mode","intersect","callbacks","tooltipItem","datasetIndex","str","duration","moment","yLabel","hours","minutes","trim","scales","xAxes","time","unit","tooltipFormat","unitStepSize","displayFormats","millisecond","second","day","week","month","quarter","year","yAxes","ticks","fixedStepSize","floor","ceil","statisticsByMonth","avgRunningMinutes","datetime","steppedLine","save","$close","config","$routeProvider","when","filter","$sce","transformedValue","decimal","abs","trustAsHtml","Calendar","opts","spy","element","$element","weekDays","currentYear","getFullYear","currentMonth","getMonth","splitDateString","initialDraw","prototype","addLeadingZero","applyTransition","$el","transition","css","applyBackfaceVisibility","applyTransform","transform","dateString","split","drawDays","editDays","events","dayEvents","_results","find","parent","remove","removeAttr","activateNonCurrentMonths","push","makeActive","clearDays","days","_i","_len","clearAll","i","setMonthYear","prev","onMonthChange","call","next","curr","addOthers","badge","number","html","badgeClass","append","attr","classes","eventClass","getDaysInMonth","getDate","drawDay","lastDayOfMonth","yearNum","monthNum","dayNum","calcDate","dateNow","dayDate","pastFutureClass","setHours","monthChangeAnimation","dayBase","delay","draw","firstDayOfMonth","loopBase","multiplier","thisRef","timeout","setDate","startFromSunday","allRows","translateMonths","setEvents","empty","_j","_len1","onDayClick","click","onDayHover","hover","onActiveDayClick","onActiveDayHover","setTimeout","fn","responsiveCalendar","option","params","publicFunc","extend","defaults","edit","clear","getYearMonth","jump","$this","metadata","onInit","each","jQuery"],"mappings":"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ACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iCAAgC;AAChC;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA2B;AAC3B,4BAA2B;AAC3B;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,uFAAsF,eAAe;AACrG;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kDAAiD,qDAAqD;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qCAAoC;AACpC;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAA+B;;AAE/B;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B;;AAE3B;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA2B;AAC3B;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,uEAAsE,sBAAsB;AAC5F;AACA;AACA;;AAEA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,0CAAyC,gCAAgC;;AAEzE;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,0CAAyC,gCAAgC;;AAEzE;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAA+B;;AAE/B;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,mEAAkE,kCAAkC;;AAEpG;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA,IAAG;;AAEH,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;;AAEtB;AACA;AACA;;AAEA;;AAEA,kCAAiC,KAAK;AACtC;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mCAAkC,iBAAiB,kCAAkC;AACrF;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAc,oCAAoC;AAClD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,wEAAuE;AACvE,2BAA0B,WAAW,wEAAwE;AAC7G;AACA;AACA;AACA;AACA,+BAA8B,kBAAkB;AAChD,sBAAqB;AACrB,+BAA8B,uDAAuD;;AAErF,uBAAsB;AACtB;;AAEA;AACA,qCAAoC,gFAAgF;AACpH,qCAAoC,gFAAgF;AACpH,qCAAoC,iFAAiF;AACrH,qCAAoC;;AAEpC;;AAEA;AACA,kBAAiB;AACjB;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oDAAmD;AACnD;AACA,QAAO,kFAAkF;AACzF;AACA;AACA,MAAK;AACL;AACA;AACA,sDAAqD;AACrD;AACA,QAAO,uDAAuD;AAC9D;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,iCAAgC;AAChC;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;;AAEA,kCAAiC;;AAEjC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,8BAA6B,qBAAqB;AAClD;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA4B,KAAK;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,+BAA8B;;AAE9B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AA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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cffa373823a4bb4101ab","\"use strict\";\r\n\r\nrequire('./js/assets');\r\n\r\nrequire('./js/app/module');\r\nrequire('./js/app/services');\r\nrequire('./js/app/controllers');\r\nrequire('./js/app/routes');\r\nrequire('./js/app/filters');\r\n\r\nrequire('bootstrap-sass');\r\n\r\nrequire('./js/lib/responsive-calendar');\r\n\n\n\n// WEBPACK FOOTER //\n// ./assets/main.js","\"use strict\";\n\nconst assetsDomain = require('../../build_config/js/assetsDomain');\nconst fingerprint = require('../../build_config/js/fingerprint');\n\nexports.inApp = assetsDomain + '/assets/' + fingerprint + '/';\nexports.bower = assetsDomain + '/assets/bower/' + fingerprint + '/';\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/assets.js","module.exports=\"\";\n\n\n// WEBPACK FOOTER //\n// ./build_config/js/assetsDomain.js","module.exports=\"ECsZBWQDTG\";\n\n\n// WEBPACK FOOTER //\n// ./build_config/js/fingerprint.js","/* global angular */\n\n\"use strict\";\n\nmodule.exports = angular.module('thermoSmart', [\n\t'ngRoute',\n\t'ui.bootstrap'\n]);\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/app/module.js","/* global $, io */\n\n\"use strict\";\n\nconst module = require('./module');\n\nmodule.service('socketio', ($rootScope) => {\n\tconst socket = io.connect('/frontend');\n\treturn {\n\t\ton: function(eventName, callback) {\n\t\t\tsocket.on(eventName, function() {\n\t\t\t\tconst args = arguments;\n\t\t\t\t$rootScope.$apply(function() {\n\t\t\t\t\tcallback.apply(socket, args);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\temit: function(eventName, data, callback) {\n\t\t\tsocket.emit(eventName, data, function() {\n\t\t\t\tconst args = arguments;\n\t\t\t\t$rootScope.$apply(function() {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(socket, args);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n});\n\nmodule.service('loginStatus', ($http) => {\n\tconst url = '/login/facebook/checkstatus';\n\n\treturn {\n\t\tcheck: function () {\n\t\t\t$http.get(url).then(function () {\n\t\t\t\t// do nothing, user is logged in\n\t\t\t}, function () {\n\t\t\t\tdocument.location.reload();\n\t\t\t});\n\t\t}\n\t};\n});\n\nmodule.service('passcode', () => {\n\tconsole.log('service initialized');\n\n\tconst passCodeEl = $('#security-passcode');\n\tconst passCodeEvt = $({});\n\tlet modalOpen = false;\n\n\tconst securityKeypadModal = $('.security-keypad--modal');\n\n\tconst changeValue = value => {\n\t\tpassCodeEl.removeClass('color-border-red');\n\t\tpassCodeEl.val(value);\n\t\tpassCodeEvt.trigger('change', value);\n\n\t\tif (passCodeEl.val().length === 4) {\n\t\t\tif (passCodeEl.val() === '1423') {\n\t\t\t\tpassCodeEvt.trigger('valid');\n\t\t\t} else {\n\t\t\t\tpassCodeEvt.trigger('invalid');\n\t\t\t\tpassCodeEl.addClass('color-border-red');\n\t\t\t}\n\t\t}\n\t};\n\n\tconst onKeyPress = key => {\n\t\tconst numberKey = parseInt(key, 10);\n\t\tif (numberKey >= 0 && numberKey <= 9) {\n\t\t\tif (passCodeEl.val().length >= 4) {\n\t\t\t\tchangeValue('');\n\t\t\t}\n\n\t\t\tchangeValue(passCodeEl.val() + '' + numberKey);\n\t\t}\n\n\t\tif (key === 'Backspace') {\n\t\t\tchangeValue(passCodeEl.val().substr(0, passCodeEl.val().length - 1));\n\t\t}\n\n\t\tif (key === 'Delete') {\n\t\t\tchangeValue('');\n\t\t}\n\t};\n\n\tdocument.addEventListener('keyup', evt => {\n\t\tif (modalOpen) {\n\t\t\tonKeyPress(evt.key);\n\t\t}\n\t});\n\n\tsecurityKeypadModal.on('click', evt => {\n\t\tonKeyPress(evt.target.getAttribute('data-value'));\n\t});\n\n\tsecurityKeypadModal.on('show.bs.modal', () => {\n\t\tmodalOpen = true;\n\n\t\tchangeValue('');\n\t});\n\n\tsecurityKeypadModal.on('hide.bs.modal', () => {\n\t\tmodalOpen = false;\n\n\t\tpassCodeEvt.trigger('closed');\n\n\t\tchangeValue('');\n\t});\n\n\treturn {\n\t\tcheck: () => {\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tsecurityKeypadModal.modal('show');\n\n\t\t\t\tconst onValid = () => {\n\t\t\t\t\tpassCodeEvt.off('valid', onValid);\n\t\t\t\t\tpassCodeEvt.off('closed', onClosed);\n\n\t\t\t\t\tresolve({\n\t\t\t\t\t\tstatus: 'valid'\n\t\t\t\t\t});\n\t\t\t\t\tsecurityKeypadModal.modal('hide');\n\t\t\t\t};\n\n\t\t\t\tconst onClosed = () => {\n\t\t\t\t\tpassCodeEvt.off('valid', onValid);\n\t\t\t\t\tpassCodeEvt.off('closed', onClosed);\n\n\t\t\t\t\tresolve({\n\t\t\t\t\t\tstatus: 'closed'\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tpassCodeEvt.on('valid', onValid);\n\t\t\t\tpassCodeEvt.on('closed', onClosed);\n\t\t\t});\n\t\t}\n\t};\n});\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/app/services.js","require('./controllers/mainCtrl');\nrequire('./controllers/modalStatisticsCtrl');\nrequire('./controllers/modalSensorLabelCtrl');\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/app/controllers.js","/* global $ */\n\n'use strict';\n\nconst module = require('../module');\nconst helpers = require('../helpers');\n\nconst SECURITY_STATUSES = {\n\tDISARMED: 'disarmed',\n\tARMING: 'arming',\n\tARMED: 'armed',\n\tPREACTIVATED: 'preactivated',\n\tACTIVATED: 'activated'\n};\n\nconst SECURITY_ARMED_STATUSES = [SECURITY_STATUSES.ARMED, SECURITY_STATUSES.PREACTIVATED, SECURITY_STATUSES.ACTIVATED];\n\nconst processPlanForDisplay = function (heatingPlan) {\n\tlet lastPercent = 0;\n\n\theatingPlan.intervals.forEach((interval, index) => {\n\t\tif (index === 0) {\n\t\t\tinterval.label = '';\n\t\t\tinterval.labelPosition = 0;\n\t\t\tinterval.blockPosition = 0;\n\t\t} else {\n\t\t\tconst percentInDay = helpers.getPercentInDay(interval.startHour, interval.startMinute);\n\n\t\t\tinterval.label = `${helpers.pad(interval.startHour, 2)}:${helpers.pad(interval.startMinute, 2)}`;\n\t\t\tinterval.labelPosition = percentInDay;\n\n\t\t\theatingPlan.intervals[index - 1].blockPosition = percentInDay - lastPercent;\n\n\t\t\tlastPercent = percentInDay;\n\t\t}\n\t});\n\n\tif (heatingPlan.intervals.length) {\n\t\theatingPlan.intervals[heatingPlan.intervals.length - 1].blockPosition = 100 - lastPercent;\n\t}\n};\n\nconst getCurrentTemp = function (todaysPlan) {\n\tlet temp = null;\n\tconst today = new Date();\n\n\ttodaysPlan.intervals.forEach(interval => {\n\t\tif (today.getHours() > interval.startHour ||\n\t\t\t\t(today.getHours() === interval.startHour &&\n\t\t\t\ttoday.getMinutes() >= interval.startMinute)) {\n\t\t\ttemp = interval.temp;\n\t\t}\n\t});\n\n\treturn temp;\n};\n\n\nconst updateView = function ($scope) {\n\tconst d = new Date();\n\t$scope.percentInDay = helpers.getPercentInDay();\n\t$scope.currentTime = `${helpers.pad(d.getHours(), 2)}:${helpers.pad(d.getMinutes(), 2)}`;\n\t$scope.currentDate = d;\n\n\t$scope.targetTemp = getCurrentTemp($scope.todaysPlan.plan.ref);\n};\n\nmodule.controller('mainCtrl', ['$scope', '$http', '$uibModal', 'socketio', 'loginStatus', 'passcode', function ($scope, $http, $uibModal, socketio, loginStatus, passcode) {\n\tloginStatus.check();\n\n\t$scope.lastUpdate = null;\n\n\t$scope.security = SECURITY_STATUSES.DISARMED;\n\n\t$scope.SECURITY_STATUSES = SECURITY_STATUSES;\n\t$scope.SECURITY_ARMED_STATUSES = SECURITY_ARMED_STATUSES;\n\n\t$scope.targetTemp = 0;\n\n\t$scope.inside = {\n\t\ttemp: 0,\n\t\thumi: 0\n\t};\n\n\t$scope.outside = {\n\t\ttemp: 0,\n\t\thumi: 0,\n\t\tweatherIconClass: ''\n\t};\n\n\t$scope.temps = {};\n\t$scope.heatingPlans = {};\n\t$scope.heatingDefaultPlans = {};\n\t$scope.todaysPlan = {};\n\t$scope.isHeatingOn = false;\n\t$scope.init = false;\n\t$scope.statisticsForToday = {\n\t\theatingDuration: 0\n\t};\n\n\t$scope.initInProgress = false;\n\t$scope.restartSensorInProgress = false;\n\n\tconst dayNameByIndex = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\n\t$scope.statisticsModalOpen = () => {\n\t\t$uibModal.open({\n\t\t\ttemplateUrl: 'views/statistics-modal.html',\n\t\t\tcontroller: 'modalStatisticsCtrl',\n\t\t\tsize: 'lg'\n\t\t}).result.then(() => {}, () => {});\n\t};\n\n\t$scope.openModalChangeSensorLabel = (id) => {\n\t\t$uibModal.open({\n\t\t\ttemplateUrl: 'views/change-sensor-label.html',\n\t\t\tcontroller: 'modalSensorLabelCtrl',\n\t\t\tsize: 'sm',\n\t\t\tresolve: {\n\t\t\t\tcontent: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\tlabel: $scope.inside.individual[id].label\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}).result.then((results) => {\n\t\t\t$http.post('/api/changesensorlabel', {\n\t\t\t\tid: results.id,\n\t\t\t\tlabel: results.label || $scope.inside.individual[id].label\n\t\t\t});\n\t\t}, () => {});\n\t};\n\n\t$scope.toggleSensorStatus = (id) => {\n\t\t$http.post('/api/togglesensorstatus', {\n\t\t\tid\n\t\t});\n\t};\n\n\n\tconst handleServerData = function (data) {\n\t\t$scope.lastUpdate = new Date();\n\n\t\tif (typeof data.restartSensorInProgress === 'boolean') {\n\t\t\t$scope.restartSensorInProgress = data.restartSensorInProgress;\n\t\t}\n\n\t\tif (data.outside) {\n\t\t\t$scope.outside.temp = data.outside.temperature;\n\t\t\t$scope.outside.humi = data.outside.humidity;\n\t\t\t$scope.outside.weatherIconClass = data.outside.weatherIconClass;\n\n\t\t\tif (data.outside.backgroundImage) {\n\t\t\t\tdocument.body.style.backgroundImage = document.body.style.backgroundImage.substring(0, document.body.style.backgroundImage.lastIndexOf('/') + 1) + data.outside.backgroundImage;\n\t\t\t}\n\t\t}\n\n\t\tif (data.inside) {\n\t\t\tconst ids = Object.keys(data.inside);\n\n\t\t\t$scope.inside.temp = 0;\n\t\t\t$scope.inside.humi = 0;\n\n\t\t\tlet activeCount = 0;\n\t\t\tids.forEach(id => {\n\t\t\t\tif (data.inside[id].active && data.inside[id].enabled) {\n\t\t\t\t\t$scope.inside.temp += data.inside[id].temperature;\n\t\t\t\t\t$scope.inside.humi += data.inside[id].humidity;\n\n\t\t\t\t\tactiveCount++;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.inside.temp = $scope.inside.temp / activeCount;\n\t\t\t$scope.inside.humi = Math.round($scope.inside.humi / activeCount);\n\n\n\t\t\t$scope.inside.individual = data.inside;\n\t\t}\n\n\t\tif (typeof data.isHeatingOn === 'boolean') {\n\t\t\t$scope.isHeatingOn = data.isHeatingOn;\n\t\t}\n\n\t\tif (data.temperatures) {\n\t\t\tdata.temperatures.forEach(temp => {\n\t\t\t\tif (!$scope.temps[temp._id]) {\n\t\t\t\t\t$scope.temps[temp._id] = {};\n\t\t\t\t}\n\n\t\t\t\t$scope.temps[temp._id].ref = temp;\n\t\t\t});\n\t\t}\n\n\t\tif (data.heatingPlans) {\n\t\t\tdata.heatingPlans.forEach(heatingPlan => {\n\t\t\t\tif (!$scope.heatingPlans[heatingPlan._id]) {\n\t\t\t\t\t$scope.heatingPlans[heatingPlan._id] = {};\n\t\t\t\t}\n\n\t\t\t\t$scope.heatingPlans[heatingPlan._id].ref = Object.assign({}, heatingPlan);\n\n\t\t\t\theatingPlan.intervals.forEach(override => {\n\t\t\t\t\toverride.temp = $scope.temps[override.temp];\n\t\t\t\t});\n\n\t\t\t\tprocessPlanForDisplay(heatingPlan);\n\t\t\t});\n\t\t}\n\n\t\tif (data.heatingDefaultPlans) {\n\t\t\tdata.heatingDefaultPlans.forEach(heatingPlan => {\n\t\t\t\tif (!$scope.heatingDefaultPlans[heatingPlan.dayOfWeek]) {\n\t\t\t\t\t$scope.heatingDefaultPlans[heatingPlan.dayOfWeek] = {};\n\t\t\t\t}\n\n\t\t\t\t$scope.heatingDefaultPlans[heatingPlan.dayOfWeek] = Object.assign({}, heatingPlan);\n\n\t\t\t\t$scope.heatingDefaultPlans[heatingPlan.dayOfWeek].plan = $scope.heatingPlans[heatingPlan.plan];\n\t\t\t\t$scope.heatingDefaultPlans[heatingPlan.dayOfWeek].nameOfDay = dayNameByIndex[heatingPlan.dayOfWeek];\n\t\t\t});\n\t\t}\n\n\t\tif (data.statisticsForToday) {\n\t\t\t$scope.statisticsForToday = data.statisticsForToday;\n\t\t}\n\n\t\tif (data.security) {\n\t\t\t$scope.security = data.security.status;\n\t\t}\n\n\t\t$scope.todaysPlan = $scope.heatingDefaultPlans[new Date().getDay()];\n\t\tupdateView($scope);\n\t};\n\n\tconst init = function () {\n\t\t$scope.initInProgress = true;\n\n\t\t$http.get(`/api/init?_=${new Date().getTime()}`).then((response) => {\n\t\t\tif (response.data && response.data.data) {\n\t\t\t\tconst data = response.data.data;\n\n\t\t\t\thandleServerData(data);\n\n\t\t\t\t$scope.todaysPlan = $scope.heatingDefaultPlans[new Date().getDay()];\n\n\t\t\t\tupdateView($scope);\n\n\t\t\t\tif (!$scope.init) {\n\t\t\t\t\tsetInterval(() => {\n\t\t\t\t\t\tupdateView($scope);\n\t\t\t\t\t}, 60000);\n\t\t\t\t}\n\n\t\t\t\t$scope.init = true;\n\n\n\t\t\t\t/*$(\".responsive-calendar\").responsiveCalendar({\n\t\t\t\t\ttime: '2016-12',\n\t\t\t\t\tevents: {\n\t\t\t\t\t\t\"2016-12-30\": {\n\t\t\t\t\t\t\t\"number\": 5,\n\t\t\t\t\t\t\t\"url\": \"http://w3widgets.com/responsive-slider\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"2016-12-26\": {\n\t\t\t\t\t\t\t\"number\": 1,\n\t\t\t\t\t\t\t\"url\": \"http://w3widgets.com\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"2016-12-03\": {\n\t\t\t\t\t\t\tnumber: ' ',\n\t\t\t\t\t\t\tbadgeClass: \"icon-work\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"2016-12-12\": {}\n\t\t\t\t\t}\n\t\t\t\t});*/\n\t\t\t}\n\n\t\t\t$scope.initInProgress = false;\n\t\t}, (err) => {\n\t\t\t$scope.initInProgress = false;\n\t\t\tconsole.log(err);\n\t\t});\n\t};\n\n\tsocketio.on('update', handleServerData);\n\n\t$scope.tempAdjust = function (id, value) {\n\t\t$scope.temps[id].ref.value += value;\n\t\t$scope.temps[id].ref.value = parseFloat($scope.temps[id].ref.value.toFixed(1));\n\n\t\t$http.post('/api/tempadjust', {\n\t\t\t_id: id,\n\t\t\tvalue: $scope.temps[id].ref.value\n\t\t});\n\t};\n\n\t$scope.restartSensor = function () {\n\t\t$http.post('/api/restartsensor');\n\t};\n\n\t$scope.securityToggleAlarm = function () {\n\t\tpasscode.check().then(result => {\n\t\t\tif (result.status === 'valid') {\n\t\t\t\t$http.post('/api/securitytogglealarm');\n\n\t\t\t\tswitch ($scope.security) {\n\t\t\t\t\tcase SECURITY_STATUSES.DISARMED:\n\t\t\t\t\t\t$scope.security = SECURITY_STATUSES.ARMING;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase SECURITY_STATUSES.ARMING:\n\t\t\t\t\t\t$scope.security = SECURITY_STATUSES.DISARMED;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t$scope.security = SECURITY_STATUSES.DISARMED;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\n\tlet selectedDayOfWeekToChange = null;\n\tconst selectPlanModal = $('.thermo-select-plan--modal');\n\tselectPlanModal.on('show.bs.modal', (e) => {\n\t\tconst srcEl = e.relatedTarget;\n\n\t\tif (srcEl.getAttribute('data-default-week-plan')) {\n\t\t\tselectedDayOfWeekToChange = srcEl.getAttribute('data-default-week-plan');\n\t\t}\n\t});\n\tselectPlanModal.on('hide.bs.modal', () => {\n\t\tselectedDayOfWeekToChange = null;\n\t});\n\n\t$scope.selectPlan = function (planId) {\n\t\tif (selectedDayOfWeekToChange) {\n\t\t\t$http.post('/api/changedefaultplan', {\n\t\t\t\tdayOfWeek: selectedDayOfWeekToChange,\n\t\t\t\tplanId: planId\n\t\t\t});\n\n\t\t\tselectPlanModal.modal('hide');\n\t\t}\n\t};\n\n\t$scope.scope = function () {\n\t\treturn $scope;\n\t};\n\n\t$scope.refresh = function () {\n\t\tinit();\n\t};\n\n\tinit();\n}]);\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/app/controllers/mainCtrl.js","function pad(num, size) {\n\tlet s = num+\"\";\n\twhile (s.length < size) s = \"0\" + s;\n\treturn s;\n}\n\nconst getPercentInDay = function (hour, minute) {\n\tif (hour === undefined || minute === undefined) {\n\t\tconst now = new Date();\n\t\thour = now.getHours();\n\t\tminute = now.getMinutes();\n\t}\n\n\tconst percentInDay = (hour * 60 + minute) * 100 / 1440;\n\n\treturn percentInDay;\n};\n\n\n\n\nmodule.exports = {\n\tgetPercentInDay,\n\tpad\n};\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/app/helpers.js","/* global Chart, moment */\n\n'use strict';\n\nconst module = require('../module');\n\nmodule.controller('modalStatisticsCtrl', ['$scope', '$http', 'loginStatus', function ($scope, $http, loginStatus) {\n\tloginStatus.check();\n\n\t$scope.initInProgress = false;\n\n\tconst handleServerData = function (data) {\n\t\tif (data.statisticsForLastMonth && data.statisticsForLastMonth.length) {\n\t\t\tconst minTargetTemp = Math.min(...data.statisticsForLastMonth.map(item => item.avgTargetTemp)).toFixed(1);\n\t\t\tconst maxTargetTemp = Math.max(...data.statisticsForLastMonth.map(item => item.avgTargetTemp)).toFixed(1);\n\n\t\t\tconst minAvgOutsideTemp = Math.min(...data.statisticsForLastMonth.map(item => item.avgOutsideTemp)).toFixed(1);\n\t\t\tconst maxAvgOutsideTemp = Math.max(...data.statisticsForLastMonth.map(item => item.avgOutsideTemp)).toFixed(1);\n\n\t\t\tnew Chart(document.querySelector('#statisticsLast30Days'), {\n\t\t\t\ttype: 'line',\n\t\t\t\toptions: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\tresponsive: true\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\tdatasets: [{\n\t\t\t\t\t\tlabel: 'Heating running time',\n\t\t\t\t\t\tyAxisID: \"duration\",\n\t\t\t\t\t\tdata: [\n\t\t\t\t\t\t\t...data.statisticsForLastMonth.map(item => {return {x: item.date, y: item.runningMinutes}; })\n\t\t\t\t\t\t],\n\t\t\t\t\t\tbackgroundColor: \"rgba(75,192,192,0.4)\",\n\t\t\t\t\t\tborderColor: \"rgba(75,192,192,1)\",\n\t\t\t\t\t\tborderCapStyle: 'butt',\n\t\t\t\t\t\tborderDash: [],\n\t\t\t\t\t\tborderDashOffset: 0.0,\n\t\t\t\t\t\tborderJoinStyle: 'miter',\n\t\t\t\t\t\tpointBorderColor: \"rgba(75,192,192,1)\",\n\t\t\t\t\t\tpointBackgroundColor: \"#fff\",\n\t\t\t\t\t\tpointBorderWidth: 1,\n\t\t\t\t\t\tpointHoverRadius: 6,\n\t\t\t\t\t\tpointHoverBackgroundColor: \"rgba(75,192,192,1)\",\n\t\t\t\t\t\tpointHoverBorderColor: \"rgba(220,220,220,1)\",\n\t\t\t\t\t\tpointHoverBorderWidth: 2,\n\t\t\t\t\t\tpointRadius: 3,\n\t\t\t\t\t\tpointHitRadius: 9,\n\t\t\t\t\t}, {\n\t\t\t\t\t\tlabel: 'Avg target temperature',\n\t\t\t\t\t\tyAxisID: \"temp\",\n\t\t\t\t\t\tdata: [\n\t\t\t\t\t\t\t...data.statisticsForLastMonth.map(item => {return {x: item.date, y: item.avgTargetTemp}; })\n\t\t\t\t\t\t],\n\t\t\t\t\t\tborderColor: \"rgba(255,116,0,1)\",\n\t\t\t\t\t\tborderCapStyle: 'butt',\n\t\t\t\t\t\tborderDash: [],\n\t\t\t\t\t\tborderDashOffset: 0.0,\n\t\t\t\t\t\tborderJoinStyle: 'miter',\n\t\t\t\t\t\tpointBorderColor: \"rgba(255,116,0,1)\",\n\t\t\t\t\t\tpointBackgroundColor: \"#fff\",\n\t\t\t\t\t\tpointBorderWidth: 1,\n\t\t\t\t\t\tpointHoverRadius: 6,\n\t\t\t\t\t\tpointHoverBackgroundColor: \"rgba(255,116,0,1)\",\n\t\t\t\t\t\tpointHoverBorderColor: \"rgba(220,220,220,1)\",\n\t\t\t\t\t\tpointHoverBorderWidth: 2,\n\t\t\t\t\t\tpointRadius: 3,\n\t\t\t\t\t\tpointHitRadius: 9,\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t}, {\n\t\t\t\t\t\tlabel: 'Avg outside temperature',\n\t\t\t\t\t\tyAxisID: \"temp\",\n\t\t\t\t\t\tdata: [\n\t\t\t\t\t\t\t...data.statisticsForLastMonth.map(item => {return {x: item.date, y: item.avgOutsideTemp}; })\n\t\t\t\t\t\t],\n\t\t\t\t\t\tborderColor: \"rgba(115,136,10,1)\",\n\t\t\t\t\t\tborderCapStyle: 'butt',\n\t\t\t\t\t\tborderDash: [],\n\t\t\t\t\t\tborderDashOffset: 0.0,\n\t\t\t\t\t\tborderJoinStyle: 'miter',\n\t\t\t\t\t\tpointBorderColor: \"rgba(115,136,10,1)\",\n\t\t\t\t\t\tpointBackgroundColor: \"#fff\",\n\t\t\t\t\t\tpointBorderWidth: 1,\n\t\t\t\t\t\tpointHoverRadius: 6,\n\t\t\t\t\t\tpointHoverBackgroundColor: \"rgba(115,136,10,1)\",\n\t\t\t\t\t\tpointHoverBorderColor: \"rgba(220,220,220,1)\",\n\t\t\t\t\t\tpointHoverBorderWidth: 2,\n\t\t\t\t\t\tpointRadius: 3,\n\t\t\t\t\t\tpointHitRadius: 9,\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t}]\n\t\t\t\t},\n\t\t\t\toptions: {\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'x',\n\t\t\t\t\t\tintersect: true,\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\t\t\t\tswitch (tooltipItem.datasetIndex) {\n\t\t\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t\t\tlet str = '';\n\t\t\t\t\t\t\t\t\t\tconst duration = moment.duration(tooltipItem.yLabel * 60 * 1000);\n\n\t\t\t\t\t\t\t\t\t\tstr += `${duration.hours() || 0}h `;\n\t\t\t\t\t\t\t\t\t\tstr += `${duration.minutes() || 0}m`;\n\n\t\t\t\t\t\t\t\t\t\treturn `${data.datasets[tooltipItem.datasetIndex].label}: ${str.trim()}`;\n\t\t\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\t\treturn `${data.datasets[tooltipItem.datasetIndex].label}: ${tooltipItem.yLabel.toFixed(1)}`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\ttype: 'time',\n\t\t\t\t\t\t\ttime: {\n\t\t\t\t\t\t\t\tunit: 'day',\n\t\t\t\t\t\t\t\ttooltipFormat: 'MMM Do',\n\t\t\t\t\t\t\t\tunitStepSize: 1,\n\t\t\t\t\t\t\t\tdisplayFormats: {\n\t\t\t\t\t\t\t\t\tmillisecond: 'SSS [ms]',\n\t\t\t\t\t\t\t\t\tsecond: 'h:mm:ss a',\n\t\t\t\t\t\t\t\t\tminute: 'h:mm:ss a',\n\t\t\t\t\t\t\t\t\thour: 'HH:mm',\n\t\t\t\t\t\t\t\t\tday: 'MMM D',\n\t\t\t\t\t\t\t\t\tweek: 'll',\n\t\t\t\t\t\t\t\t\tmonth: 'MMM YYYY',\n\t\t\t\t\t\t\t\t\tquarter: '[Q]Q - YYYY',\n\t\t\t\t\t\t\t\t\tyear: 'YYYY'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tid: \"duration\",\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tcallback: value => {\n\t\t\t\t\t\t\t\t\tlet str = '';\n\n\t\t\t\t\t\t\t\t\tconst duration = moment.duration(value * 60 * 1000);\n\n\t\t\t\t\t\t\t\t\tstr += `${duration.hours() || 0}h `;\n\t\t\t\t\t\t\t\t\tstr += `${duration.minutes() || 0}m`;\n\n\t\t\t\t\t\t\t\t\treturn str.trim();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfixedStepSize: 60,\n\t\t\t\t\t\t\t\tmin: 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tid: \"temp\",\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tcallback: value => value,\n\t\t\t\t\t\t\t\tfixedStepSize: 2,\n\t\t\t\t\t\t\t\tmin: Math.floor(Math.min(minTargetTemp, minAvgOutsideTemp)),\n\t\t\t\t\t\t\t\tmax: Math.ceil(Math.max(maxTargetTemp, maxAvgOutsideTemp))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\n\t\tif (data.statisticsByMonth && data.statisticsByMonth.length) {\n\t\t\tconst minTargetTemp = Math.min(...data.statisticsByMonth.map(item => item.avgTargetTemp)).toFixed(1);\n\t\t\tconst maxTargetTemp = Math.max(...data.statisticsByMonth.map(item => item.avgTargetTemp)).toFixed(1);\n\n\t\t\tconst minAvgOutsideTemp = Math.min(...data.statisticsByMonth.map(item => item.avgOutsideTemp)).toFixed(1);\n\t\t\tconst maxAvgOutsideTemp = Math.max(...data.statisticsByMonth.map(item => item.avgOutsideTemp)).toFixed(1);\n\n\t\t\tnew Chart(document.querySelector('#statisticsByMonth'), {\n\t\t\t\ttype: 'line',\n\t\t\t\toptions: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\tresponsive: true\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\tdatasets: [{\n\t\t\t\t\t\tlabel: 'Avg heating running time',\n\t\t\t\t\t\tyAxisID: \"duration\",\n\t\t\t\t\t\tdata: [\n\t\t\t\t\t\t\t...data.statisticsByMonth.map(item => {return {x: item.date, y: item.avgRunningMinutes}; })\n\t\t\t\t\t\t],\n\t\t\t\t\t\tbackgroundColor: \"rgba(75,192,192,0.4)\",\n\t\t\t\t\t\tborderColor: \"rgba(75,192,192,1)\",\n\t\t\t\t\t\tborderCapStyle: 'butt',\n\t\t\t\t\t\tborderDash: [],\n\t\t\t\t\t\tborderDashOffset: 0.0,\n\t\t\t\t\t\tborderJoinStyle: 'miter',\n\t\t\t\t\t\tpointBorderColor: \"rgba(75,192,192,1)\",\n\t\t\t\t\t\tpointBackgroundColor: \"#fff\",\n\t\t\t\t\t\tpointBorderWidth: 1,\n\t\t\t\t\t\tpointHoverRadius: 6,\n\t\t\t\t\t\tpointHoverBackgroundColor: \"rgba(75,192,192,1)\",\n\t\t\t\t\t\tpointHoverBorderColor: \"rgba(220,220,220,1)\",\n\t\t\t\t\t\tpointHoverBorderWidth: 2,\n\t\t\t\t\t\tpointRadius: 3,\n\t\t\t\t\t\tpointHitRadius: 9,\n\t\t\t\t\t}, {\n\t\t\t\t\t\tlabel: 'Avg target temperature',\n\t\t\t\t\t\tyAxisID: \"temp\",\n\t\t\t\t\t\tdata: [\n\t\t\t\t\t\t\t...data.statisticsByMonth.map(item => {return {x: item.date, y: item.avgTargetTemp}; })\n\t\t\t\t\t\t],\n\t\t\t\t\t\tborderColor: \"rgba(255,116,0,1)\",\n\t\t\t\t\t\tborderCapStyle: 'butt',\n\t\t\t\t\t\tborderDash: [],\n\t\t\t\t\t\tborderDashOffset: 0.0,\n\t\t\t\t\t\tborderJoinStyle: 'miter',\n\t\t\t\t\t\tpointBorderColor: \"rgba(255,116,0,1)\",\n\t\t\t\t\t\tpointBackgroundColor: \"#fff\",\n\t\t\t\t\t\tpointBorderWidth: 1,\n\t\t\t\t\t\tpointHoverRadius: 6,\n\t\t\t\t\t\tpointHoverBackgroundColor: \"rgba(255,116,0,1)\",\n\t\t\t\t\t\tpointHoverBorderColor: \"rgba(220,220,220,1)\",\n\t\t\t\t\t\tpointHoverBorderWidth: 2,\n\t\t\t\t\t\tpointRadius: 3,\n\t\t\t\t\t\tpointHitRadius: 9,\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t}, {\n\t\t\t\t\t\tlabel: 'Avg outside temperature',\n\t\t\t\t\t\tyAxisID: \"temp\",\n\t\t\t\t\t\tdata: [\n\t\t\t\t\t\t\t...data.statisticsByMonth.map(item => {return {x: item.date, y: item.avgOutsideTemp}; })\n\t\t\t\t\t\t],\n\t\t\t\t\t\tborderColor: \"rgba(115,136,10,1)\",\n\t\t\t\t\t\tborderCapStyle: 'butt',\n\t\t\t\t\t\tborderDash: [],\n\t\t\t\t\t\tborderDashOffset: 0.0,\n\t\t\t\t\t\tborderJoinStyle: 'miter',\n\t\t\t\t\t\tpointBorderColor: \"rgba(115,136,10,1)\",\n\t\t\t\t\t\tpointBackgroundColor: \"#fff\",\n\t\t\t\t\t\tpointBorderWidth: 1,\n\t\t\t\t\t\tpointHoverRadius: 6,\n\t\t\t\t\t\tpointHoverBackgroundColor: \"rgba(115,136,10,1)\",\n\t\t\t\t\t\tpointHoverBorderColor: \"rgba(220,220,220,1)\",\n\t\t\t\t\t\tpointHoverBorderWidth: 2,\n\t\t\t\t\t\tpointRadius: 3,\n\t\t\t\t\t\tpointHitRadius: 9,\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t}]\n\t\t\t\t},\n\t\t\t\toptions: {\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'x',\n\t\t\t\t\t\tintersect: true,\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\t\t\t\tswitch (tooltipItem.datasetIndex) {\n\t\t\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t\t\tlet str = '';\n\t\t\t\t\t\t\t\t\t\tconst duration = moment.duration(tooltipItem.yLabel * 60 * 1000);\n\n\t\t\t\t\t\t\t\t\t\tstr += `${duration.hours() || 0}h `;\n\t\t\t\t\t\t\t\t\t\tstr += `${duration.minutes() || 0}m`;\n\n\t\t\t\t\t\t\t\t\t\treturn `${data.datasets[tooltipItem.datasetIndex].label}: ${str.trim()}`;\n\t\t\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\t\treturn `${data.datasets[tooltipItem.datasetIndex].label}: ${tooltipItem.yLabel.toFixed(1)}`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\ttype: 'time',\n\t\t\t\t\t\t\ttime: {\n\t\t\t\t\t\t\t\tunit: 'month',\n\t\t\t\t\t\t\t\ttooltipFormat: 'YYYY MMM',\n\t\t\t\t\t\t\t\tunitStepSize: 1,\n\t\t\t\t\t\t\t\tdisplayFormats: {\n\t\t\t\t\t\t\t\t\tmillisecond: 'SSS [ms]',\n\t\t\t\t\t\t\t\t\tsecond: 'h:mm:ss a',\n\t\t\t\t\t\t\t\t\tminute: 'h:mm:ss a',\n\t\t\t\t\t\t\t\t\thour: 'HH:mm',\n\t\t\t\t\t\t\t\t\tday: 'MMM D',\n\t\t\t\t\t\t\t\t\tweek: 'll',\n\t\t\t\t\t\t\t\t\tmonth: 'MMM YYYY',\n\t\t\t\t\t\t\t\t\tquarter: '[Q]Q - YYYY',\n\t\t\t\t\t\t\t\t\tyear: 'YYYY'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tid: \"duration\",\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tcallback: value => {\n\t\t\t\t\t\t\t\t\tlet str = '';\n\n\t\t\t\t\t\t\t\t\tconst duration = moment.duration(value * 60 * 1000);\n\n\t\t\t\t\t\t\t\t\tstr += `${duration.hours() || 0}h `;\n\t\t\t\t\t\t\t\t\tstr += `${duration.minutes() || 0}m`;\n\n\t\t\t\t\t\t\t\t\treturn str.trim();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfixedStepSize: 60,\n\t\t\t\t\t\t\t\tmin: 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tid: \"temp\",\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tcallback: value => value,\n\t\t\t\t\t\t\t\tfixedStepSize: 2,\n\t\t\t\t\t\t\t\tmin: Math.floor(Math.min(minTargetTemp, minAvgOutsideTemp)),\n\t\t\t\t\t\t\t\tmax: Math.ceil(Math.max(maxTargetTemp, maxAvgOutsideTemp))\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttooltipFormat: value => value.toFixed(1)\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\n\t\tif (data.statisticsForToday && data.statisticsForToday.length) {\n\t\t\tnew Chart(document.querySelector('#heatingHistoryChart'), {\n\t\t\t\ttype: 'line',\n\t\t\t\toptions: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\tresponsive: true\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\tdatasets: [{\n\t\t\t\t\t\tlabel: 'Heating status',\n\t\t\t\t\t\tdata: data.statisticsForToday.map(item => {return {x: item.datetime, y: item.status ? 10 : 0}; }),\n\t\t\t\t\t\tsteppedLine: true,\n\t\t\t\t\t\tbackgroundColor: \"rgba(75,192,192,0.4)\",\n\t\t\t\t\t\tborderColor: \"rgba(75,192,192,1)\",\n\t\t\t\t\t\tborderCapStyle: 'butt',\n\t\t\t\t\t\tborderDash: [],\n\t\t\t\t\t\tborderDashOffset: 0.0,\n\t\t\t\t\t\tborderJoinStyle: 'miter',\n\t\t\t\t\t\tpointBorderColor: \"rgba(75,192,192,1)\",\n\t\t\t\t\t\tpointBackgroundColor: \"#fff\",\n\t\t\t\t\t\tpointBorderWidth: 1,\n\t\t\t\t\t\tpointHoverRadius: 6,\n\t\t\t\t\t\tpointHoverBackgroundColor: \"rgba(75,192,192,1)\",\n\t\t\t\t\t\tpointHoverBorderColor: \"rgba(220,220,220,1)\",\n\t\t\t\t\t\tpointHoverBorderWidth: 2,\n\t\t\t\t\t\tpointRadius: 3,\n\t\t\t\t\t\tpointHitRadius: 9,\n\t\t\t\t\t}]\n\t\t\t\t},\n\t\t\t\toptions: {\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'x',\n\t\t\t\t\t\tintersect: true,\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\t\t\t\tif (tooltipItem.yLabel === 10) {\n\t\t\t\t\t\t\t\t\treturn `${data.datasets[tooltipItem.datasetIndex].label}: ON`;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn `${data.datasets[tooltipItem.datasetIndex].label}: OFF`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\ttype: 'time',\n\t\t\t\t\t\t\ttime: {\n\t\t\t\t\t\t\t\tunit: 'hour',\n\t\t\t\t\t\t\t\ttooltipFormat: 'MMM Do, HH:mm',\n\t\t\t\t\t\t\t\tunitStepSize: 1,\n\t\t\t\t\t\t\t\tdisplayFormats: {\n\t\t\t\t\t\t\t\t\tmillisecond: 'SSS [ms]',\n\t\t\t\t\t\t\t\t\tsecond: 'h:mm:ss a',\n\t\t\t\t\t\t\t\t\tminute: 'h:mm:ss a',\n\t\t\t\t\t\t\t\t\thour: 'HH:mm',\n\t\t\t\t\t\t\t\t\tday: 'MMM D',\n\t\t\t\t\t\t\t\t\tweek: 'll',\n\t\t\t\t\t\t\t\t\tmonth: 'MMM YYYY',\n\t\t\t\t\t\t\t\t\tquarter: '[Q]Q - YYYY',\n\t\t\t\t\t\t\t\t\tyear: 'YYYY'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tcallback: function(value) {\n\t\t\t\t\t\t\t\t\treturn value === 0 ? 'OFF' : value === 10 ? 'ON' : '';\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfixedStepSize: 1,\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 10\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst init = function () {\n\t\t$scope.initInProgress = true;\n\n\t\t$http.get(`/api/statistics?_=${new Date().getTime()}`).then((response) => {\n\t\t\tif (response.data && response.data.data) {\n\t\t\t\tconst data = response.data.data;\n\n\t\t\t\thandleServerData(data, true);\n\t\t\t}\n\t\t}, (err) => {\n\t\t\tconsole.log(err);\n\t\t});\n\t};\n\n\tinit();\n}]);\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/app/controllers/modalStatisticsCtrl.js","'use strict';\n\nconst module = require('../module');\n\nmodule.controller('modalSensorLabelCtrl', ['$scope', 'content', 'loginStatus', '$http', function ($scope, content, loginStatus, $http) {\n\tloginStatus.check();\n\n\t$scope.id = content.id;\n\t$scope.label = content.label;\n\n\t$scope.save = () => {\n\t\t$scope.$close({\n\t\t\tid: $scope.id,\n\t\t\tlabel: $scope.label\n\t\t});\n\t};\n}]);\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/app/controllers/modalSensorLabelCtrl.js","/* global angular */\r\n\r\n'use strict';\r\n\r\nconst module = require('./module');\r\nrequire('./controllers');\r\n\r\nmodule.config(['$routeProvider', function ($routeProvider) {\r\n\t$routeProvider.when('/', {\r\n\t\ttemplateUrl: '/views/index.html',\r\n\t\tcontroller: 'mainCtrl',\r\n\t});\r\n}]);\n\n\n// WEBPACK FOOTER //\n// ./assets/js/app/routes.js","/* global moment */\n\n'use strict';\n\nconst module = require('./module');\n\nmodule.filter('float', ['$sce', function($sce) {\n\treturn function(value) {\n\t\tlet transformedValue = '';\n\n\t\tif (value >= 0) {\n\t\t\ttransformedValue += Math.floor(value);\n\t\t} else {\n\t\t\ttransformedValue += Math.ceil(value);\n\t\t}\n\n\t\tlet decimal = Math.abs(value) % 1;\n\n\t\tif (decimal && decimal.toFixed(1) === '1.0') {\n\t\t\tdecimal = 0;\n\n\t\t\tif (value >= 0) {\n\t\t\t\ttransformedValue = Math.floor(value) + 1;\n\t\t\t} else {\n\t\t\t\ttransformedValue = Math.ceil(value) - 1;\n\t\t\t}\n\t\t}\n\t\ttransformedValue += `<span class=\"decimal\">${decimal ? decimal.toFixed(1).substr(1) : '.0'}</span>`;\n\n\t\treturn $sce.trustAsHtml(transformedValue);\n\t};\n}]);\n\nmodule.filter('first2chars', () => (value => value ? value.substr(0, 2) : ''));\n\nmodule.filter('duration', () => (value => {\n\tlet str = '';\n\n\tconst duration = moment.duration(value * 60 * 1000);\n\n\tstr += `${duration.hours() || 0}h `;\n\tstr += `${duration.minutes() || 0}m`;\n\n\treturn str.trim();\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/app/filters.js","module.exports = require(\"./assets/javascripts/bootstrap.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// bootstrap-sass (bower component)\n// module id = 13\n// module chunks = 0","/*!\n * Bootstrap v3.3.7 (http://getbootstrap.com)\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under the MIT license\n */\n\nif (typeof jQuery === 'undefined') {\n  throw new Error('Bootstrap\\'s JavaScript requires jQuery')\n}\n\n+function ($) {\n  'use strict';\n  var version = $.fn.jquery.split(' ')[0].split('.')\n  if ((version[0] < 2 && version[1] < 9) || (version[0] == 1 && version[1] == 9 && version[2] < 1) || (version[0] > 3)) {\n    throw new Error('Bootstrap\\'s JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4')\n  }\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: transition.js v3.3.7\n * http://getbootstrap.com/javascript/#transitions\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\n  // ============================================================\n\n  function transitionEnd() {\n    var el = document.createElement('bootstrap')\n\n    var transEndEventNames = {\n      WebkitTransition : 'webkitTransitionEnd',\n      MozTransition    : 'transitionend',\n      OTransition      : 'oTransitionEnd otransitionend',\n      transition       : 'transitionend'\n    }\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return { end: transEndEventNames[name] }\n      }\n    }\n\n    return false // explicit for ie8 (  ._.)\n  }\n\n  // http://blog.alexmaccaw.com/css-transitions\n  $.fn.emulateTransitionEnd = function (duration) {\n    var called = false\n    var $el = this\n    $(this).one('bsTransitionEnd', function () { called = true })\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n    setTimeout(callback, duration)\n    return this\n  }\n\n  $(function () {\n    $.support.transition = transitionEnd()\n\n    if (!$.support.transition) return\n\n    $.event.special.bsTransitionEnd = {\n      bindType: $.support.transition.end,\n      delegateType: $.support.transition.end,\n      handle: function (e) {\n        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n      }\n    }\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: alert.js v3.3.7\n * http://getbootstrap.com/javascript/#alerts\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // ALERT CLASS DEFINITION\n  // ======================\n\n  var dismiss = '[data-dismiss=\"alert\"]'\n  var Alert   = function (el) {\n    $(el).on('click', dismiss, this.close)\n  }\n\n  Alert.VERSION = '3.3.7'\n\n  Alert.TRANSITION_DURATION = 150\n\n  Alert.prototype.close = function (e) {\n    var $this    = $(this)\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = $(selector === '#' ? [] : selector)\n\n    if (e) e.preventDefault()\n\n    if (!$parent.length) {\n      $parent = $this.closest('.alert')\n    }\n\n    $parent.trigger(e = $.Event('close.bs.alert'))\n\n    if (e.isDefaultPrevented()) return\n\n    $parent.removeClass('in')\n\n    function removeElement() {\n      // detach from parent, fire event then clean up data\n      $parent.detach().trigger('closed.bs.alert').remove()\n    }\n\n    $.support.transition && $parent.hasClass('fade') ?\n      $parent\n        .one('bsTransitionEnd', removeElement)\n        .emulateTransitionEnd(Alert.TRANSITION_DURATION) :\n      removeElement()\n  }\n\n\n  // ALERT PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.alert')\n\n      if (!data) $this.data('bs.alert', (data = new Alert(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.alert\n\n  $.fn.alert             = Plugin\n  $.fn.alert.Constructor = Alert\n\n\n  // ALERT NO CONFLICT\n  // =================\n\n  $.fn.alert.noConflict = function () {\n    $.fn.alert = old\n    return this\n  }\n\n\n  // ALERT DATA-API\n  // ==============\n\n  $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: button.js v3.3.7\n * http://getbootstrap.com/javascript/#buttons\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // BUTTON PUBLIC CLASS DEFINITION\n  // ==============================\n\n  var Button = function (element, options) {\n    this.$element  = $(element)\n    this.options   = $.extend({}, Button.DEFAULTS, options)\n    this.isLoading = false\n  }\n\n  Button.VERSION  = '3.3.7'\n\n  Button.DEFAULTS = {\n    loadingText: 'loading...'\n  }\n\n  Button.prototype.setState = function (state) {\n    var d    = 'disabled'\n    var $el  = this.$element\n    var val  = $el.is('input') ? 'val' : 'html'\n    var data = $el.data()\n\n    state += 'Text'\n\n    if (data.resetText == null) $el.data('resetText', $el[val]())\n\n    // push to event loop to allow forms to submit\n    setTimeout($.proxy(function () {\n      $el[val](data[state] == null ? this.options[state] : data[state])\n\n      if (state == 'loadingText') {\n        this.isLoading = true\n        $el.addClass(d).attr(d, d).prop(d, true)\n      } else if (this.isLoading) {\n        this.isLoading = false\n        $el.removeClass(d).removeAttr(d).prop(d, false)\n      }\n    }, this), 0)\n  }\n\n  Button.prototype.toggle = function () {\n    var changed = true\n    var $parent = this.$element.closest('[data-toggle=\"buttons\"]')\n\n    if ($parent.length) {\n      var $input = this.$element.find('input')\n      if ($input.prop('type') == 'radio') {\n        if ($input.prop('checked')) changed = false\n        $parent.find('.active').removeClass('active')\n        this.$element.addClass('active')\n      } else if ($input.prop('type') == 'checkbox') {\n        if (($input.prop('checked')) !== this.$element.hasClass('active')) changed = false\n        this.$element.toggleClass('active')\n      }\n      $input.prop('checked', this.$element.hasClass('active'))\n      if (changed) $input.trigger('change')\n    } else {\n      this.$element.attr('aria-pressed', !this.$element.hasClass('active'))\n      this.$element.toggleClass('active')\n    }\n  }\n\n\n  // BUTTON PLUGIN DEFINITION\n  // ========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.button')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.button', (data = new Button(this, options)))\n\n      if (option == 'toggle') data.toggle()\n      else if (option) data.setState(option)\n    })\n  }\n\n  var old = $.fn.button\n\n  $.fn.button             = Plugin\n  $.fn.button.Constructor = Button\n\n\n  // BUTTON NO CONFLICT\n  // ==================\n\n  $.fn.button.noConflict = function () {\n    $.fn.button = old\n    return this\n  }\n\n\n  // BUTTON DATA-API\n  // ===============\n\n  $(document)\n    .on('click.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      var $btn = $(e.target).closest('.btn')\n      Plugin.call($btn, 'toggle')\n      if (!($(e.target).is('input[type=\"radio\"], input[type=\"checkbox\"]'))) {\n        // Prevent double click on radios, and the double selections (so cancellation) on checkboxes\n        e.preventDefault()\n        // The target component still receive the focus\n        if ($btn.is('input,button')) $btn.trigger('focus')\n        else $btn.find('input:visible,button:visible').first().trigger('focus')\n      }\n    })\n    .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))\n    })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: carousel.js v3.3.7\n * http://getbootstrap.com/javascript/#carousel\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CAROUSEL CLASS DEFINITION\n  // =========================\n\n  var Carousel = function (element, options) {\n    this.$element    = $(element)\n    this.$indicators = this.$element.find('.carousel-indicators')\n    this.options     = options\n    this.paused      = null\n    this.sliding     = null\n    this.interval    = null\n    this.$active     = null\n    this.$items      = null\n\n    this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))\n\n    this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element\n      .on('mouseenter.bs.carousel', $.proxy(this.pause, this))\n      .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))\n  }\n\n  Carousel.VERSION  = '3.3.7'\n\n  Carousel.TRANSITION_DURATION = 600\n\n  Carousel.DEFAULTS = {\n    interval: 5000,\n    pause: 'hover',\n    wrap: true,\n    keyboard: true\n  }\n\n  Carousel.prototype.keydown = function (e) {\n    if (/input|textarea/i.test(e.target.tagName)) return\n    switch (e.which) {\n      case 37: this.prev(); break\n      case 39: this.next(); break\n      default: return\n    }\n\n    e.preventDefault()\n  }\n\n  Carousel.prototype.cycle = function (e) {\n    e || (this.paused = false)\n\n    this.interval && clearInterval(this.interval)\n\n    this.options.interval\n      && !this.paused\n      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))\n\n    return this\n  }\n\n  Carousel.prototype.getItemIndex = function (item) {\n    this.$items = item.parent().children('.item')\n    return this.$items.index(item || this.$active)\n  }\n\n  Carousel.prototype.getItemForDirection = function (direction, active) {\n    var activeIndex = this.getItemIndex(active)\n    var willWrap = (direction == 'prev' && activeIndex === 0)\n                || (direction == 'next' && activeIndex == (this.$items.length - 1))\n    if (willWrap && !this.options.wrap) return active\n    var delta = direction == 'prev' ? -1 : 1\n    var itemIndex = (activeIndex + delta) % this.$items.length\n    return this.$items.eq(itemIndex)\n  }\n\n  Carousel.prototype.to = function (pos) {\n    var that        = this\n    var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))\n\n    if (pos > (this.$items.length - 1) || pos < 0) return\n\n    if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, \"slid\"\n    if (activeIndex == pos) return this.pause().cycle()\n\n    return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))\n  }\n\n  Carousel.prototype.pause = function (e) {\n    e || (this.paused = true)\n\n    if (this.$element.find('.next, .prev').length && $.support.transition) {\n      this.$element.trigger($.support.transition.end)\n      this.cycle(true)\n    }\n\n    this.interval = clearInterval(this.interval)\n\n    return this\n  }\n\n  Carousel.prototype.next = function () {\n    if (this.sliding) return\n    return this.slide('next')\n  }\n\n  Carousel.prototype.prev = function () {\n    if (this.sliding) return\n    return this.slide('prev')\n  }\n\n  Carousel.prototype.slide = function (type, next) {\n    var $active   = this.$element.find('.item.active')\n    var $next     = next || this.getItemForDirection(type, $active)\n    var isCycling = this.interval\n    var direction = type == 'next' ? 'left' : 'right'\n    var that      = this\n\n    if ($next.hasClass('active')) return (this.sliding = false)\n\n    var relatedTarget = $next[0]\n    var slideEvent = $.Event('slide.bs.carousel', {\n      relatedTarget: relatedTarget,\n      direction: direction\n    })\n    this.$element.trigger(slideEvent)\n    if (slideEvent.isDefaultPrevented()) return\n\n    this.sliding = true\n\n    isCycling && this.pause()\n\n    if (this.$indicators.length) {\n      this.$indicators.find('.active').removeClass('active')\n      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])\n      $nextIndicator && $nextIndicator.addClass('active')\n    }\n\n    var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, \"slid\"\n    if ($.support.transition && this.$element.hasClass('slide')) {\n      $next.addClass(type)\n      $next[0].offsetWidth // force reflow\n      $active.addClass(direction)\n      $next.addClass(direction)\n      $active\n        .one('bsTransitionEnd', function () {\n          $next.removeClass([type, direction].join(' ')).addClass('active')\n          $active.removeClass(['active', direction].join(' '))\n          that.sliding = false\n          setTimeout(function () {\n            that.$element.trigger(slidEvent)\n          }, 0)\n        })\n        .emulateTransitionEnd(Carousel.TRANSITION_DURATION)\n    } else {\n      $active.removeClass('active')\n      $next.addClass('active')\n      this.sliding = false\n      this.$element.trigger(slidEvent)\n    }\n\n    isCycling && this.cycle()\n\n    return this\n  }\n\n\n  // CAROUSEL PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.carousel')\n      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)\n      var action  = typeof option == 'string' ? option : options.slide\n\n      if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))\n      if (typeof option == 'number') data.to(option)\n      else if (action) data[action]()\n      else if (options.interval) data.pause().cycle()\n    })\n  }\n\n  var old = $.fn.carousel\n\n  $.fn.carousel             = Plugin\n  $.fn.carousel.Constructor = Carousel\n\n\n  // CAROUSEL NO CONFLICT\n  // ====================\n\n  $.fn.carousel.noConflict = function () {\n    $.fn.carousel = old\n    return this\n  }\n\n\n  // CAROUSEL DATA-API\n  // =================\n\n  var clickHandler = function (e) {\n    var href\n    var $this   = $(this)\n    var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) // strip for ie7\n    if (!$target.hasClass('carousel')) return\n    var options = $.extend({}, $target.data(), $this.data())\n    var slideIndex = $this.attr('data-slide-to')\n    if (slideIndex) options.interval = false\n\n    Plugin.call($target, options)\n\n    if (slideIndex) {\n      $target.data('bs.carousel').to(slideIndex)\n    }\n\n    e.preventDefault()\n  }\n\n  $(document)\n    .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)\n    .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)\n\n  $(window).on('load', function () {\n    $('[data-ride=\"carousel\"]').each(function () {\n      var $carousel = $(this)\n      Plugin.call($carousel, $carousel.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: collapse.js v3.3.7\n * http://getbootstrap.com/javascript/#collapse\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n/* jshint latedef: false */\n\n+function ($) {\n  'use strict';\n\n  // COLLAPSE PUBLIC CLASS DEFINITION\n  // ================================\n\n  var Collapse = function (element, options) {\n    this.$element      = $(element)\n    this.options       = $.extend({}, Collapse.DEFAULTS, options)\n    this.$trigger      = $('[data-toggle=\"collapse\"][href=\"#' + element.id + '\"],' +\n                           '[data-toggle=\"collapse\"][data-target=\"#' + element.id + '\"]')\n    this.transitioning = null\n\n    if (this.options.parent) {\n      this.$parent = this.getParent()\n    } else {\n      this.addAriaAndCollapsedClass(this.$element, this.$trigger)\n    }\n\n    if (this.options.toggle) this.toggle()\n  }\n\n  Collapse.VERSION  = '3.3.7'\n\n  Collapse.TRANSITION_DURATION = 350\n\n  Collapse.DEFAULTS = {\n    toggle: true\n  }\n\n  Collapse.prototype.dimension = function () {\n    var hasWidth = this.$element.hasClass('width')\n    return hasWidth ? 'width' : 'height'\n  }\n\n  Collapse.prototype.show = function () {\n    if (this.transitioning || this.$element.hasClass('in')) return\n\n    var activesData\n    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')\n\n    if (actives && actives.length) {\n      activesData = actives.data('bs.collapse')\n      if (activesData && activesData.transitioning) return\n    }\n\n    var startEvent = $.Event('show.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    if (actives && actives.length) {\n      Plugin.call(actives, 'hide')\n      activesData || actives.data('bs.collapse', null)\n    }\n\n    var dimension = this.dimension()\n\n    this.$element\n      .removeClass('collapse')\n      .addClass('collapsing')[dimension](0)\n      .attr('aria-expanded', true)\n\n    this.$trigger\n      .removeClass('collapsed')\n      .attr('aria-expanded', true)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse in')[dimension]('')\n      this.transitioning = 0\n      this.$element\n        .trigger('shown.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    var scrollSize = $.camelCase(['scroll', dimension].join('-'))\n\n    this.$element\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])\n  }\n\n  Collapse.prototype.hide = function () {\n    if (this.transitioning || !this.$element.hasClass('in')) return\n\n    var startEvent = $.Event('hide.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    var dimension = this.dimension()\n\n    this.$element[dimension](this.$element[dimension]())[0].offsetHeight\n\n    this.$element\n      .addClass('collapsing')\n      .removeClass('collapse in')\n      .attr('aria-expanded', false)\n\n    this.$trigger\n      .addClass('collapsed')\n      .attr('aria-expanded', false)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.transitioning = 0\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse')\n        .trigger('hidden.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    this.$element\n      [dimension](0)\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)\n  }\n\n  Collapse.prototype.toggle = function () {\n    this[this.$element.hasClass('in') ? 'hide' : 'show']()\n  }\n\n  Collapse.prototype.getParent = function () {\n    return $(this.options.parent)\n      .find('[data-toggle=\"collapse\"][data-parent=\"' + this.options.parent + '\"]')\n      .each($.proxy(function (i, element) {\n        var $element = $(element)\n        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)\n      }, this))\n      .end()\n  }\n\n  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {\n    var isOpen = $element.hasClass('in')\n\n    $element.attr('aria-expanded', isOpen)\n    $trigger\n      .toggleClass('collapsed', !isOpen)\n      .attr('aria-expanded', isOpen)\n  }\n\n  function getTargetFromTrigger($trigger) {\n    var href\n    var target = $trigger.attr('data-target')\n      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') // strip for ie7\n\n    return $(target)\n  }\n\n\n  // COLLAPSE PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.collapse')\n      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false\n      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.collapse\n\n  $.fn.collapse             = Plugin\n  $.fn.collapse.Constructor = Collapse\n\n\n  // COLLAPSE NO CONFLICT\n  // ====================\n\n  $.fn.collapse.noConflict = function () {\n    $.fn.collapse = old\n    return this\n  }\n\n\n  // COLLAPSE DATA-API\n  // =================\n\n  $(document).on('click.bs.collapse.data-api', '[data-toggle=\"collapse\"]', function (e) {\n    var $this   = $(this)\n\n    if (!$this.attr('data-target')) e.preventDefault()\n\n    var $target = getTargetFromTrigger($this)\n    var data    = $target.data('bs.collapse')\n    var option  = data ? 'toggle' : $this.data()\n\n    Plugin.call($target, option)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: dropdown.js v3.3.7\n * http://getbootstrap.com/javascript/#dropdowns\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // DROPDOWN CLASS DEFINITION\n  // =========================\n\n  var backdrop = '.dropdown-backdrop'\n  var toggle   = '[data-toggle=\"dropdown\"]'\n  var Dropdown = function (element) {\n    $(element).on('click.bs.dropdown', this.toggle)\n  }\n\n  Dropdown.VERSION = '3.3.7'\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = selector && $(selector)\n\n    return $parent && $parent.length ? $parent : $this.parent()\n  }\n\n  function clearMenus(e) {\n    if (e && e.which === 3) return\n    $(backdrop).remove()\n    $(toggle).each(function () {\n      var $this         = $(this)\n      var $parent       = getParent($this)\n      var relatedTarget = { relatedTarget: this }\n\n      if (!$parent.hasClass('open')) return\n\n      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return\n\n      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this.attr('aria-expanded', 'false')\n      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))\n    })\n  }\n\n  Dropdown.prototype.toggle = function (e) {\n    var $this = $(this)\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    clearMenus()\n\n    if (!isActive) {\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n        // if mobile we use a backdrop because click events don't delegate\n        $(document.createElement('div'))\n          .addClass('dropdown-backdrop')\n          .insertAfter($(this))\n          .on('click', clearMenus)\n      }\n\n      var relatedTarget = { relatedTarget: this }\n      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this\n        .trigger('focus')\n        .attr('aria-expanded', 'true')\n\n      $parent\n        .toggleClass('open')\n        .trigger($.Event('shown.bs.dropdown', relatedTarget))\n    }\n\n    return false\n  }\n\n  Dropdown.prototype.keydown = function (e) {\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\n\n    var $this = $(this)\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    if (!isActive && e.which != 27 || isActive && e.which == 27) {\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\n      return $this.trigger('click')\n    }\n\n    var desc = ' li:not(.disabled):visible a'\n    var $items = $parent.find('.dropdown-menu' + desc)\n\n    if (!$items.length) return\n\n    var index = $items.index(e.target)\n\n    if (e.which == 38 && index > 0)                 index--         // up\n    if (e.which == 40 && index < $items.length - 1) index++         // down\n    if (!~index)                                    index = 0\n\n    $items.eq(index).trigger('focus')\n  }\n\n\n  // DROPDOWN PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.dropdown')\n\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown             = Plugin\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  // DROPDOWN NO CONFLICT\n  // ====================\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\n  // ===================================\n\n  $(document)\n    .on('click.bs.dropdown.data-api', clearMenus)\n    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: modal.js v3.3.7\n * http://getbootstrap.com/javascript/#modals\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // MODAL CLASS DEFINITION\n  // ======================\n\n  var Modal = function (element, options) {\n    this.options             = options\n    this.$body               = $(document.body)\n    this.$element            = $(element)\n    this.$dialog             = this.$element.find('.modal-dialog')\n    this.$backdrop           = null\n    this.isShown             = null\n    this.originalBodyPad     = null\n    this.scrollbarWidth      = 0\n    this.ignoreBackdropClick = false\n\n    if (this.options.remote) {\n      this.$element\n        .find('.modal-content')\n        .load(this.options.remote, $.proxy(function () {\n          this.$element.trigger('loaded.bs.modal')\n        }, this))\n    }\n  }\n\n  Modal.VERSION  = '3.3.7'\n\n  Modal.TRANSITION_DURATION = 300\n  Modal.BACKDROP_TRANSITION_DURATION = 150\n\n  Modal.DEFAULTS = {\n    backdrop: true,\n    keyboard: true,\n    show: true\n  }\n\n  Modal.prototype.toggle = function (_relatedTarget) {\n    return this.isShown ? this.hide() : this.show(_relatedTarget)\n  }\n\n  Modal.prototype.show = function (_relatedTarget) {\n    var that = this\n    var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\n\n    this.$element.trigger(e)\n\n    if (this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = true\n\n    this.checkScrollbar()\n    this.setScrollbar()\n    this.$body.addClass('modal-open')\n\n    this.escape()\n    this.resize()\n\n    this.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\n\n    this.$dialog.on('mousedown.dismiss.bs.modal', function () {\n      that.$element.one('mouseup.dismiss.bs.modal', function (e) {\n        if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true\n      })\n    })\n\n    this.backdrop(function () {\n      var transition = $.support.transition && that.$element.hasClass('fade')\n\n      if (!that.$element.parent().length) {\n        that.$element.appendTo(that.$body) // don't move modals dom position\n      }\n\n      that.$element\n        .show()\n        .scrollTop(0)\n\n      that.adjustDialog()\n\n      if (transition) {\n        that.$element[0].offsetWidth // force reflow\n      }\n\n      that.$element.addClass('in')\n\n      that.enforceFocus()\n\n      var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\n\n      transition ?\n        that.$dialog // wait for modal to slide in\n          .one('bsTransitionEnd', function () {\n            that.$element.trigger('focus').trigger(e)\n          })\n          .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n        that.$element.trigger('focus').trigger(e)\n    })\n  }\n\n  Modal.prototype.hide = function (e) {\n    if (e) e.preventDefault()\n\n    e = $.Event('hide.bs.modal')\n\n    this.$element.trigger(e)\n\n    if (!this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = false\n\n    this.escape()\n    this.resize()\n\n    $(document).off('focusin.bs.modal')\n\n    this.$element\n      .removeClass('in')\n      .off('click.dismiss.bs.modal')\n      .off('mouseup.dismiss.bs.modal')\n\n    this.$dialog.off('mousedown.dismiss.bs.modal')\n\n    $.support.transition && this.$element.hasClass('fade') ?\n      this.$element\n        .one('bsTransitionEnd', $.proxy(this.hideModal, this))\n        .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n      this.hideModal()\n  }\n\n  Modal.prototype.enforceFocus = function () {\n    $(document)\n      .off('focusin.bs.modal') // guard against infinite focus loop\n      .on('focusin.bs.modal', $.proxy(function (e) {\n        if (document !== e.target &&\n            this.$element[0] !== e.target &&\n            !this.$element.has(e.target).length) {\n          this.$element.trigger('focus')\n        }\n      }, this))\n  }\n\n  Modal.prototype.escape = function () {\n    if (this.isShown && this.options.keyboard) {\n      this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {\n        e.which == 27 && this.hide()\n      }, this))\n    } else if (!this.isShown) {\n      this.$element.off('keydown.dismiss.bs.modal')\n    }\n  }\n\n  Modal.prototype.resize = function () {\n    if (this.isShown) {\n      $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))\n    } else {\n      $(window).off('resize.bs.modal')\n    }\n  }\n\n  Modal.prototype.hideModal = function () {\n    var that = this\n    this.$element.hide()\n    this.backdrop(function () {\n      that.$body.removeClass('modal-open')\n      that.resetAdjustments()\n      that.resetScrollbar()\n      that.$element.trigger('hidden.bs.modal')\n    })\n  }\n\n  Modal.prototype.removeBackdrop = function () {\n    this.$backdrop && this.$backdrop.remove()\n    this.$backdrop = null\n  }\n\n  Modal.prototype.backdrop = function (callback) {\n    var that = this\n    var animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n    if (this.isShown && this.options.backdrop) {\n      var doAnimate = $.support.transition && animate\n\n      this.$backdrop = $(document.createElement('div'))\n        .addClass('modal-backdrop ' + animate)\n        .appendTo(this.$body)\n\n      this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\n        if (this.ignoreBackdropClick) {\n          this.ignoreBackdropClick = false\n          return\n        }\n        if (e.target !== e.currentTarget) return\n        this.options.backdrop == 'static'\n          ? this.$element[0].focus()\n          : this.hide()\n      }, this))\n\n      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow\n\n      this.$backdrop.addClass('in')\n\n      if (!callback) return\n\n      doAnimate ?\n        this.$backdrop\n          .one('bsTransitionEnd', callback)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callback()\n\n    } else if (!this.isShown && this.$backdrop) {\n      this.$backdrop.removeClass('in')\n\n      var callbackRemove = function () {\n        that.removeBackdrop()\n        callback && callback()\n      }\n      $.support.transition && this.$element.hasClass('fade') ?\n        this.$backdrop\n          .one('bsTransitionEnd', callbackRemove)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callbackRemove()\n\n    } else if (callback) {\n      callback()\n    }\n  }\n\n  // these following methods are used to handle overflowing modals\n\n  Modal.prototype.handleUpdate = function () {\n    this.adjustDialog()\n  }\n\n  Modal.prototype.adjustDialog = function () {\n    var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight\n\n    this.$element.css({\n      paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',\n      paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''\n    })\n  }\n\n  Modal.prototype.resetAdjustments = function () {\n    this.$element.css({\n      paddingLeft: '',\n      paddingRight: ''\n    })\n  }\n\n  Modal.prototype.checkScrollbar = function () {\n    var fullWindowWidth = window.innerWidth\n    if (!fullWindowWidth) { // workaround for missing window.innerWidth in IE8\n      var documentElementRect = document.documentElement.getBoundingClientRect()\n      fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)\n    }\n    this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth\n    this.scrollbarWidth = this.measureScrollbar()\n  }\n\n  Modal.prototype.setScrollbar = function () {\n    var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\n    this.originalBodyPad = document.body.style.paddingRight || ''\n    if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\n  }\n\n  Modal.prototype.resetScrollbar = function () {\n    this.$body.css('padding-right', this.originalBodyPad)\n  }\n\n  Modal.prototype.measureScrollbar = function () { // thx walsh\n    var scrollDiv = document.createElement('div')\n    scrollDiv.className = 'modal-scrollbar-measure'\n    this.$body.append(scrollDiv)\n    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n    this.$body[0].removeChild(scrollDiv)\n    return scrollbarWidth\n  }\n\n\n  // MODAL PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option, _relatedTarget) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.modal')\n      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data) $this.data('bs.modal', (data = new Modal(this, options)))\n      if (typeof option == 'string') data[option](_relatedTarget)\n      else if (options.show) data.show(_relatedTarget)\n    })\n  }\n\n  var old = $.fn.modal\n\n  $.fn.modal             = Plugin\n  $.fn.modal.Constructor = Modal\n\n\n  // MODAL NO CONFLICT\n  // =================\n\n  $.fn.modal.noConflict = function () {\n    $.fn.modal = old\n    return this\n  }\n\n\n  // MODAL DATA-API\n  // ==============\n\n  $(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n    var $this   = $(this)\n    var href    = $this.attr('href')\n    var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\n    var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\n    if ($this.is('a')) e.preventDefault()\n\n    $target.one('show.bs.modal', function (showEvent) {\n      if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n      $target.one('hidden.bs.modal', function () {\n        $this.is(':visible') && $this.trigger('focus')\n      })\n    })\n    Plugin.call($target, option, this)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tooltip.js v3.3.7\n * http://getbootstrap.com/javascript/#tooltip\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TOOLTIP PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Tooltip = function (element, options) {\n    this.type       = null\n    this.options    = null\n    this.enabled    = null\n    this.timeout    = null\n    this.hoverState = null\n    this.$element   = null\n    this.inState    = null\n\n    this.init('tooltip', element, options)\n  }\n\n  Tooltip.VERSION  = '3.3.7'\n\n  Tooltip.TRANSITION_DURATION = 150\n\n  Tooltip.DEFAULTS = {\n    animation: true,\n    placement: 'top',\n    selector: false,\n    template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n    trigger: 'hover focus',\n    title: '',\n    delay: 0,\n    html: false,\n    container: false,\n    viewport: {\n      selector: 'body',\n      padding: 0\n    }\n  }\n\n  Tooltip.prototype.init = function (type, element, options) {\n    this.enabled   = true\n    this.type      = type\n    this.$element  = $(element)\n    this.options   = this.getOptions(options)\n    this.$viewport = this.options.viewport && $($.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : (this.options.viewport.selector || this.options.viewport))\n    this.inState   = { click: false, hover: false, focus: false }\n\n    if (this.$element[0] instanceof document.constructor && !this.options.selector) {\n      throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')\n    }\n\n    var triggers = this.options.trigger.split(' ')\n\n    for (var i = triggers.length; i--;) {\n      var trigger = triggers[i]\n\n      if (trigger == 'click') {\n        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))\n      } else if (trigger != 'manual') {\n        var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'\n        var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'\n\n        this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))\n        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))\n      }\n    }\n\n    this.options.selector ?\n      (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :\n      this.fixTitle()\n  }\n\n  Tooltip.prototype.getDefaults = function () {\n    return Tooltip.DEFAULTS\n  }\n\n  Tooltip.prototype.getOptions = function (options) {\n    options = $.extend({}, this.getDefaults(), this.$element.data(), options)\n\n    if (options.delay && typeof options.delay == 'number') {\n      options.delay = {\n        show: options.delay,\n        hide: options.delay\n      }\n    }\n\n    return options\n  }\n\n  Tooltip.prototype.getDelegateOptions = function () {\n    var options  = {}\n    var defaults = this.getDefaults()\n\n    this._options && $.each(this._options, function (key, value) {\n      if (defaults[key] != value) options[key] = value\n    })\n\n    return options\n  }\n\n  Tooltip.prototype.enter = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    if (obj instanceof $.Event) {\n      self.inState[obj.type == 'focusin' ? 'focus' : 'hover'] = true\n    }\n\n    if (self.tip().hasClass('in') || self.hoverState == 'in') {\n      self.hoverState = 'in'\n      return\n    }\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'in'\n\n    if (!self.options.delay || !self.options.delay.show) return self.show()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'in') self.show()\n    }, self.options.delay.show)\n  }\n\n  Tooltip.prototype.isInStateTrue = function () {\n    for (var key in this.inState) {\n      if (this.inState[key]) return true\n    }\n\n    return false\n  }\n\n  Tooltip.prototype.leave = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    if (obj instanceof $.Event) {\n      self.inState[obj.type == 'focusout' ? 'focus' : 'hover'] = false\n    }\n\n    if (self.isInStateTrue()) return\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'out'\n\n    if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'out') self.hide()\n    }, self.options.delay.hide)\n  }\n\n  Tooltip.prototype.show = function () {\n    var e = $.Event('show.bs.' + this.type)\n\n    if (this.hasContent() && this.enabled) {\n      this.$element.trigger(e)\n\n      var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])\n      if (e.isDefaultPrevented() || !inDom) return\n      var that = this\n\n      var $tip = this.tip()\n\n      var tipId = this.getUID(this.type)\n\n      this.setContent()\n      $tip.attr('id', tipId)\n      this.$element.attr('aria-describedby', tipId)\n\n      if (this.options.animation) $tip.addClass('fade')\n\n      var placement = typeof this.options.placement == 'function' ?\n        this.options.placement.call(this, $tip[0], this.$element[0]) :\n        this.options.placement\n\n      var autoToken = /\\s?auto?\\s?/i\n      var autoPlace = autoToken.test(placement)\n      if (autoPlace) placement = placement.replace(autoToken, '') || 'top'\n\n      $tip\n        .detach()\n        .css({ top: 0, left: 0, display: 'block' })\n        .addClass(placement)\n        .data('bs.' + this.type, this)\n\n      this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)\n      this.$element.trigger('inserted.bs.' + this.type)\n\n      var pos          = this.getPosition()\n      var actualWidth  = $tip[0].offsetWidth\n      var actualHeight = $tip[0].offsetHeight\n\n      if (autoPlace) {\n        var orgPlacement = placement\n        var viewportDim = this.getPosition(this.$viewport)\n\n        placement = placement == 'bottom' && pos.bottom + actualHeight > viewportDim.bottom ? 'top'    :\n                    placement == 'top'    && pos.top    - actualHeight < viewportDim.top    ? 'bottom' :\n                    placement == 'right'  && pos.right  + actualWidth  > viewportDim.width  ? 'left'   :\n                    placement == 'left'   && pos.left   - actualWidth  < viewportDim.left   ? 'right'  :\n                    placement\n\n        $tip\n          .removeClass(orgPlacement)\n          .addClass(placement)\n      }\n\n      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)\n\n      this.applyPlacement(calculatedOffset, placement)\n\n      var complete = function () {\n        var prevHoverState = that.hoverState\n        that.$element.trigger('shown.bs.' + that.type)\n        that.hoverState = null\n\n        if (prevHoverState == 'out') that.leave(that)\n      }\n\n      $.support.transition && this.$tip.hasClass('fade') ?\n        $tip\n          .one('bsTransitionEnd', complete)\n          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n        complete()\n    }\n  }\n\n  Tooltip.prototype.applyPlacement = function (offset, placement) {\n    var $tip   = this.tip()\n    var width  = $tip[0].offsetWidth\n    var height = $tip[0].offsetHeight\n\n    // manually read margins because getBoundingClientRect includes difference\n    var marginTop = parseInt($tip.css('margin-top'), 10)\n    var marginLeft = parseInt($tip.css('margin-left'), 10)\n\n    // we must check for NaN for ie 8/9\n    if (isNaN(marginTop))  marginTop  = 0\n    if (isNaN(marginLeft)) marginLeft = 0\n\n    offset.top  += marginTop\n    offset.left += marginLeft\n\n    // $.fn.offset doesn't round pixel values\n    // so we use setOffset directly with our own function B-0\n    $.offset.setOffset($tip[0], $.extend({\n      using: function (props) {\n        $tip.css({\n          top: Math.round(props.top),\n          left: Math.round(props.left)\n        })\n      }\n    }, offset), 0)\n\n    $tip.addClass('in')\n\n    // check to see if placing tip in new offset caused the tip to resize itself\n    var actualWidth  = $tip[0].offsetWidth\n    var actualHeight = $tip[0].offsetHeight\n\n    if (placement == 'top' && actualHeight != height) {\n      offset.top = offset.top + height - actualHeight\n    }\n\n    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)\n\n    if (delta.left) offset.left += delta.left\n    else offset.top += delta.top\n\n    var isVertical          = /top|bottom/.test(placement)\n    var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight\n    var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'\n\n    $tip.offset(offset)\n    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)\n  }\n\n  Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {\n    this.arrow()\n      .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')\n      .css(isVertical ? 'top' : 'left', '')\n  }\n\n  Tooltip.prototype.setContent = function () {\n    var $tip  = this.tip()\n    var title = this.getTitle()\n\n    $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)\n    $tip.removeClass('fade in top bottom left right')\n  }\n\n  Tooltip.prototype.hide = function (callback) {\n    var that = this\n    var $tip = $(this.$tip)\n    var e    = $.Event('hide.bs.' + this.type)\n\n    function complete() {\n      if (that.hoverState != 'in') $tip.detach()\n      if (that.$element) { // TODO: Check whether guarding this code with this `if` is really necessary.\n        that.$element\n          .removeAttr('aria-describedby')\n          .trigger('hidden.bs.' + that.type)\n      }\n      callback && callback()\n    }\n\n    this.$element.trigger(e)\n\n    if (e.isDefaultPrevented()) return\n\n    $tip.removeClass('in')\n\n    $.support.transition && $tip.hasClass('fade') ?\n      $tip\n        .one('bsTransitionEnd', complete)\n        .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n      complete()\n\n    this.hoverState = null\n\n    return this\n  }\n\n  Tooltip.prototype.fixTitle = function () {\n    var $e = this.$element\n    if ($e.attr('title') || typeof $e.attr('data-original-title') != 'string') {\n      $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')\n    }\n  }\n\n  Tooltip.prototype.hasContent = function () {\n    return this.getTitle()\n  }\n\n  Tooltip.prototype.getPosition = function ($element) {\n    $element   = $element || this.$element\n\n    var el     = $element[0]\n    var isBody = el.tagName == 'BODY'\n\n    var elRect    = el.getBoundingClientRect()\n    if (elRect.width == null) {\n      // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093\n      elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })\n    }\n    var isSvg = window.SVGElement && el instanceof window.SVGElement\n    // Avoid using $.offset() on SVGs since it gives incorrect results in jQuery 3.\n    // See https://github.com/twbs/bootstrap/issues/20280\n    var elOffset  = isBody ? { top: 0, left: 0 } : (isSvg ? null : $element.offset())\n    var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }\n    var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null\n\n    return $.extend({}, elRect, scroll, outerDims, elOffset)\n  }\n\n  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {\n    return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :\n        /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }\n\n  }\n\n  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {\n    var delta = { top: 0, left: 0 }\n    if (!this.$viewport) return delta\n\n    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0\n    var viewportDimensions = this.getPosition(this.$viewport)\n\n    if (/right|left/.test(placement)) {\n      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll\n      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight\n      if (topEdgeOffset < viewportDimensions.top) { // top overflow\n        delta.top = viewportDimensions.top - topEdgeOffset\n      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow\n        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset\n      }\n    } else {\n      var leftEdgeOffset  = pos.left - viewportPadding\n      var rightEdgeOffset = pos.left + viewportPadding + actualWidth\n      if (leftEdgeOffset < viewportDimensions.left) { // left overflow\n        delta.left = viewportDimensions.left - leftEdgeOffset\n      } else if (rightEdgeOffset > viewportDimensions.right) { // right overflow\n        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset\n      }\n    }\n\n    return delta\n  }\n\n  Tooltip.prototype.getTitle = function () {\n    var title\n    var $e = this.$element\n    var o  = this.options\n\n    title = $e.attr('data-original-title')\n      || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\n\n    return title\n  }\n\n  Tooltip.prototype.getUID = function (prefix) {\n    do prefix += ~~(Math.random() * 1000000)\n    while (document.getElementById(prefix))\n    return prefix\n  }\n\n  Tooltip.prototype.tip = function () {\n    if (!this.$tip) {\n      this.$tip = $(this.options.template)\n      if (this.$tip.length != 1) {\n        throw new Error(this.type + ' `template` option must consist of exactly 1 top-level element!')\n      }\n    }\n    return this.$tip\n  }\n\n  Tooltip.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))\n  }\n\n  Tooltip.prototype.enable = function () {\n    this.enabled = true\n  }\n\n  Tooltip.prototype.disable = function () {\n    this.enabled = false\n  }\n\n  Tooltip.prototype.toggleEnabled = function () {\n    this.enabled = !this.enabled\n  }\n\n  Tooltip.prototype.toggle = function (e) {\n    var self = this\n    if (e) {\n      self = $(e.currentTarget).data('bs.' + this.type)\n      if (!self) {\n        self = new this.constructor(e.currentTarget, this.getDelegateOptions())\n        $(e.currentTarget).data('bs.' + this.type, self)\n      }\n    }\n\n    if (e) {\n      self.inState.click = !self.inState.click\n      if (self.isInStateTrue()) self.enter(self)\n      else self.leave(self)\n    } else {\n      self.tip().hasClass('in') ? self.leave(self) : self.enter(self)\n    }\n  }\n\n  Tooltip.prototype.destroy = function () {\n    var that = this\n    clearTimeout(this.timeout)\n    this.hide(function () {\n      that.$element.off('.' + that.type).removeData('bs.' + that.type)\n      if (that.$tip) {\n        that.$tip.detach()\n      }\n      that.$tip = null\n      that.$arrow = null\n      that.$viewport = null\n      that.$element = null\n    })\n  }\n\n\n  // TOOLTIP PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.tooltip')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tooltip\n\n  $.fn.tooltip             = Plugin\n  $.fn.tooltip.Constructor = Tooltip\n\n\n  // TOOLTIP NO CONFLICT\n  // ===================\n\n  $.fn.tooltip.noConflict = function () {\n    $.fn.tooltip = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: popover.js v3.3.7\n * http://getbootstrap.com/javascript/#popovers\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // POPOVER PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Popover = function (element, options) {\n    this.init('popover', element, options)\n  }\n\n  if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')\n\n  Popover.VERSION  = '3.3.7'\n\n  Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {\n    placement: 'right',\n    trigger: 'click',\n    content: '',\n    template: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\n  })\n\n\n  // NOTE: POPOVER EXTENDS tooltip.js\n  // ================================\n\n  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)\n\n  Popover.prototype.constructor = Popover\n\n  Popover.prototype.getDefaults = function () {\n    return Popover.DEFAULTS\n  }\n\n  Popover.prototype.setContent = function () {\n    var $tip    = this.tip()\n    var title   = this.getTitle()\n    var content = this.getContent()\n\n    $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)\n    $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events\n      this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'\n    ](content)\n\n    $tip.removeClass('fade top bottom left right in')\n\n    // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do\n    // this manually by checking the contents.\n    if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()\n  }\n\n  Popover.prototype.hasContent = function () {\n    return this.getTitle() || this.getContent()\n  }\n\n  Popover.prototype.getContent = function () {\n    var $e = this.$element\n    var o  = this.options\n\n    return $e.attr('data-content')\n      || (typeof o.content == 'function' ?\n            o.content.call($e[0]) :\n            o.content)\n  }\n\n  Popover.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.arrow'))\n  }\n\n\n  // POPOVER PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.popover')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.popover', (data = new Popover(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.popover\n\n  $.fn.popover             = Plugin\n  $.fn.popover.Constructor = Popover\n\n\n  // POPOVER NO CONFLICT\n  // ===================\n\n  $.fn.popover.noConflict = function () {\n    $.fn.popover = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: scrollspy.js v3.3.7\n * http://getbootstrap.com/javascript/#scrollspy\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // SCROLLSPY CLASS DEFINITION\n  // ==========================\n\n  function ScrollSpy(element, options) {\n    this.$body          = $(document.body)\n    this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)\n    this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)\n    this.selector       = (this.options.target || '') + ' .nav li > a'\n    this.offsets        = []\n    this.targets        = []\n    this.activeTarget   = null\n    this.scrollHeight   = 0\n\n    this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))\n    this.refresh()\n    this.process()\n  }\n\n  ScrollSpy.VERSION  = '3.3.7'\n\n  ScrollSpy.DEFAULTS = {\n    offset: 10\n  }\n\n  ScrollSpy.prototype.getScrollHeight = function () {\n    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)\n  }\n\n  ScrollSpy.prototype.refresh = function () {\n    var that          = this\n    var offsetMethod  = 'offset'\n    var offsetBase    = 0\n\n    this.offsets      = []\n    this.targets      = []\n    this.scrollHeight = this.getScrollHeight()\n\n    if (!$.isWindow(this.$scrollElement[0])) {\n      offsetMethod = 'position'\n      offsetBase   = this.$scrollElement.scrollTop()\n    }\n\n    this.$body\n      .find(this.selector)\n      .map(function () {\n        var $el   = $(this)\n        var href  = $el.data('target') || $el.attr('href')\n        var $href = /^#./.test(href) && $(href)\n\n        return ($href\n          && $href.length\n          && $href.is(':visible')\n          && [[$href[offsetMethod]().top + offsetBase, href]]) || null\n      })\n      .sort(function (a, b) { return a[0] - b[0] })\n      .each(function () {\n        that.offsets.push(this[0])\n        that.targets.push(this[1])\n      })\n  }\n\n  ScrollSpy.prototype.process = function () {\n    var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset\n    var scrollHeight = this.getScrollHeight()\n    var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()\n    var offsets      = this.offsets\n    var targets      = this.targets\n    var activeTarget = this.activeTarget\n    var i\n\n    if (this.scrollHeight != scrollHeight) {\n      this.refresh()\n    }\n\n    if (scrollTop >= maxScroll) {\n      return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)\n    }\n\n    if (activeTarget && scrollTop < offsets[0]) {\n      this.activeTarget = null\n      return this.clear()\n    }\n\n    for (i = offsets.length; i--;) {\n      activeTarget != targets[i]\n        && scrollTop >= offsets[i]\n        && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1])\n        && this.activate(targets[i])\n    }\n  }\n\n  ScrollSpy.prototype.activate = function (target) {\n    this.activeTarget = target\n\n    this.clear()\n\n    var selector = this.selector +\n      '[data-target=\"' + target + '\"],' +\n      this.selector + '[href=\"' + target + '\"]'\n\n    var active = $(selector)\n      .parents('li')\n      .addClass('active')\n\n    if (active.parent('.dropdown-menu').length) {\n      active = active\n        .closest('li.dropdown')\n        .addClass('active')\n    }\n\n    active.trigger('activate.bs.scrollspy')\n  }\n\n  ScrollSpy.prototype.clear = function () {\n    $(this.selector)\n      .parentsUntil(this.options.target, '.active')\n      .removeClass('active')\n  }\n\n\n  // SCROLLSPY PLUGIN DEFINITION\n  // ===========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.scrollspy')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.scrollspy\n\n  $.fn.scrollspy             = Plugin\n  $.fn.scrollspy.Constructor = ScrollSpy\n\n\n  // SCROLLSPY NO CONFLICT\n  // =====================\n\n  $.fn.scrollspy.noConflict = function () {\n    $.fn.scrollspy = old\n    return this\n  }\n\n\n  // SCROLLSPY DATA-API\n  // ==================\n\n  $(window).on('load.bs.scrollspy.data-api', function () {\n    $('[data-spy=\"scroll\"]').each(function () {\n      var $spy = $(this)\n      Plugin.call($spy, $spy.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tab.js v3.3.7\n * http://getbootstrap.com/javascript/#tabs\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TAB CLASS DEFINITION\n  // ====================\n\n  var Tab = function (element) {\n    // jscs:disable requireDollarBeforejQueryAssignment\n    this.element = $(element)\n    // jscs:enable requireDollarBeforejQueryAssignment\n  }\n\n  Tab.VERSION = '3.3.7'\n\n  Tab.TRANSITION_DURATION = 150\n\n  Tab.prototype.show = function () {\n    var $this    = this.element\n    var $ul      = $this.closest('ul:not(.dropdown-menu)')\n    var selector = $this.data('target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    if ($this.parent('li').hasClass('active')) return\n\n    var $previous = $ul.find('.active:last a')\n    var hideEvent = $.Event('hide.bs.tab', {\n      relatedTarget: $this[0]\n    })\n    var showEvent = $.Event('show.bs.tab', {\n      relatedTarget: $previous[0]\n    })\n\n    $previous.trigger(hideEvent)\n    $this.trigger(showEvent)\n\n    if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return\n\n    var $target = $(selector)\n\n    this.activate($this.closest('li'), $ul)\n    this.activate($target, $target.parent(), function () {\n      $previous.trigger({\n        type: 'hidden.bs.tab',\n        relatedTarget: $this[0]\n      })\n      $this.trigger({\n        type: 'shown.bs.tab',\n        relatedTarget: $previous[0]\n      })\n    })\n  }\n\n  Tab.prototype.activate = function (element, container, callback) {\n    var $active    = container.find('> .active')\n    var transition = callback\n      && $.support.transition\n      && ($active.length && $active.hasClass('fade') || !!container.find('> .fade').length)\n\n    function next() {\n      $active\n        .removeClass('active')\n        .find('> .dropdown-menu > .active')\n          .removeClass('active')\n        .end()\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', false)\n\n      element\n        .addClass('active')\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', true)\n\n      if (transition) {\n        element[0].offsetWidth // reflow for transition\n        element.addClass('in')\n      } else {\n        element.removeClass('fade')\n      }\n\n      if (element.parent('.dropdown-menu').length) {\n        element\n          .closest('li.dropdown')\n            .addClass('active')\n          .end()\n          .find('[data-toggle=\"tab\"]')\n            .attr('aria-expanded', true)\n      }\n\n      callback && callback()\n    }\n\n    $active.length && transition ?\n      $active\n        .one('bsTransitionEnd', next)\n        .emulateTransitionEnd(Tab.TRANSITION_DURATION) :\n      next()\n\n    $active.removeClass('in')\n  }\n\n\n  // TAB PLUGIN DEFINITION\n  // =====================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.tab')\n\n      if (!data) $this.data('bs.tab', (data = new Tab(this)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tab\n\n  $.fn.tab             = Plugin\n  $.fn.tab.Constructor = Tab\n\n\n  // TAB NO CONFLICT\n  // ===============\n\n  $.fn.tab.noConflict = function () {\n    $.fn.tab = old\n    return this\n  }\n\n\n  // TAB DATA-API\n  // ============\n\n  var clickHandler = function (e) {\n    e.preventDefault()\n    Plugin.call($(this), 'show')\n  }\n\n  $(document)\n    .on('click.bs.tab.data-api', '[data-toggle=\"tab\"]', clickHandler)\n    .on('click.bs.tab.data-api', '[data-toggle=\"pill\"]', clickHandler)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: affix.js v3.3.7\n * http://getbootstrap.com/javascript/#affix\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // AFFIX CLASS DEFINITION\n  // ======================\n\n  var Affix = function (element, options) {\n    this.options = $.extend({}, Affix.DEFAULTS, options)\n\n    this.$target = $(this.options.target)\n      .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))\n      .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))\n\n    this.$element     = $(element)\n    this.affixed      = null\n    this.unpin        = null\n    this.pinnedOffset = null\n\n    this.checkPosition()\n  }\n\n  Affix.VERSION  = '3.3.7'\n\n  Affix.RESET    = 'affix affix-top affix-bottom'\n\n  Affix.DEFAULTS = {\n    offset: 0,\n    target: window\n  }\n\n  Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {\n    var scrollTop    = this.$target.scrollTop()\n    var position     = this.$element.offset()\n    var targetHeight = this.$target.height()\n\n    if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false\n\n    if (this.affixed == 'bottom') {\n      if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'\n      return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'\n    }\n\n    var initializing   = this.affixed == null\n    var colliderTop    = initializing ? scrollTop : position.top\n    var colliderHeight = initializing ? targetHeight : height\n\n    if (offsetTop != null && scrollTop <= offsetTop) return 'top'\n    if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'\n\n    return false\n  }\n\n  Affix.prototype.getPinnedOffset = function () {\n    if (this.pinnedOffset) return this.pinnedOffset\n    this.$element.removeClass(Affix.RESET).addClass('affix')\n    var scrollTop = this.$target.scrollTop()\n    var position  = this.$element.offset()\n    return (this.pinnedOffset = position.top - scrollTop)\n  }\n\n  Affix.prototype.checkPositionWithEventLoop = function () {\n    setTimeout($.proxy(this.checkPosition, this), 1)\n  }\n\n  Affix.prototype.checkPosition = function () {\n    if (!this.$element.is(':visible')) return\n\n    var height       = this.$element.height()\n    var offset       = this.options.offset\n    var offsetTop    = offset.top\n    var offsetBottom = offset.bottom\n    var scrollHeight = Math.max($(document).height(), $(document.body).height())\n\n    if (typeof offset != 'object')         offsetBottom = offsetTop = offset\n    if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)\n    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)\n\n    var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)\n\n    if (this.affixed != affix) {\n      if (this.unpin != null) this.$element.css('top', '')\n\n      var affixType = 'affix' + (affix ? '-' + affix : '')\n      var e         = $.Event(affixType + '.bs.affix')\n\n      this.$element.trigger(e)\n\n      if (e.isDefaultPrevented()) return\n\n      this.affixed = affix\n      this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null\n\n      this.$element\n        .removeClass(Affix.RESET)\n        .addClass(affixType)\n        .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')\n    }\n\n    if (affix == 'bottom') {\n      this.$element.offset({\n        top: scrollHeight - height - offsetBottom\n      })\n    }\n  }\n\n\n  // AFFIX PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.affix')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.affix', (data = new Affix(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.affix\n\n  $.fn.affix             = Plugin\n  $.fn.affix.Constructor = Affix\n\n\n  // AFFIX NO CONFLICT\n  // =================\n\n  $.fn.affix.noConflict = function () {\n    $.fn.affix = old\n    return this\n  }\n\n\n  // AFFIX DATA-API\n  // ==============\n\n  $(window).on('load', function () {\n    $('[data-spy=\"affix\"]').each(function () {\n      var $spy = $(this)\n      var data = $spy.data()\n\n      data.offset = data.offset || {}\n\n      if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom\n      if (data.offsetTop    != null) data.offset.top    = data.offsetTop\n\n      Plugin.call($spy, data)\n    })\n  })\n\n}(jQuery);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./bower_components/bootstrap-sass/assets/javascripts/bootstrap.js\n// module id = 14\n// module chunks = 0","// Generated by CoffeeScript 1.6.1\n\n/*!\n  # Responsive Celendar widget script\n  # by w3widgets\n  #\n  # Author: Lukasz Kokoszkiewicz\n  #\n  # Copyright  w3widgets 2013 All Rights Reserved\n*/\n\n\n(function() {\n\n  (function($) {\n    \"use strict\";\n    var Calendar, opts, spy;\n    Calendar = function(element, options) {\n      var time;\n      this.$element = element;\n      this.options = options;\n      this.weekDays = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun'];\n      this.time = new Date();\n      this.currentYear = this.time.getFullYear();\n      this.currentMonth = this.time.getMonth();\n      if (this.options.time) {\n        time = this.splitDateString(this.options.time);\n        this.currentYear = time.year;\n        this.currentMonth = time.month;\n      }\n      this.initialDraw();\n      return null;\n    };\n    Calendar.prototype = {\n      addLeadingZero: function(num) {\n        if (num < 10) {\n          return \"0\" + num;\n        } else {\n          return \"\" + num;\n        }\n      },\n      applyTransition: function($el, transition) {\n        $el.css('transition', transition);\n        $el.css('-ms-transition', '-ms-' + transition);\n        $el.css('-moz-transition', '-moz-' + transition);\n        return $el.css('-webkit-transition', '-webkit-' + transition);\n      },\n      applyBackfaceVisibility: function($el) {\n        $el.css('backface-visibility', 'hidden');\n        $el.css('-ms-backface-visibility', 'hidden');\n        $el.css('-moz-backface-visibility', 'hidden');\n        return $el.css('-webkit-backface-visibility', 'hidden');\n      },\n      applyTransform: function($el, transform) {\n        $el.css('transform', transform);\n        $el.css('-ms-transform', transform);\n        $el.css('-moz-transform', transform);\n        return $el.css('-webkit-transform', transform);\n      },\n      splitDateString: function(dateString) {\n        var day, month, time, year;\n        time = dateString.split('-');\n        year = parseInt(time[0]);\n        month = parseInt(time[1] - 1);\n        day = parseInt(time[2]);\n        return time = {\n          year: year,\n          month: month,\n          day: day\n        };\n      },\n      initialDraw: function() {\n        return this.drawDays(this.currentYear, this.currentMonth);\n      },\n      editDays: function(events) {\n        var dateString, day, dayEvents, time, _results;\n        _results = [];\n        for (dateString in events) {\n          dayEvents = events[dateString];\n          this.options.events[dateString] = events[dateString];\n          time = this.splitDateString(dateString);\n          day = this.$element.find('[data-year=\"' + time.year + '\"][data-month=\"' + (time.month + 1) + '\"][data-day=\"' + time.day + '\"]').parent('.day');\n          day.removeClass('active');\n          day.find('.badge').remove();\n          day.find('a').removeAttr('href');\n          if (this.currentMonth === time.month || this.options.activateNonCurrentMonths) {\n            _results.push(this.makeActive(day, dayEvents));\n          } else {\n            _results.push(void 0);\n          }\n        }\n        return _results;\n      },\n      clearDays: function(days) {\n        var dateString, day, time, _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = days.length; _i < _len; _i++) {\n          dateString = days[_i];\n          delete this.options.events[dateString];\n          time = this.splitDateString(dateString);\n          day = this.$element.find('[data-year=\"' + time.year + '\"][data-month=\"' + (time.month + 1) + '\"][data-day=\"' + time.day + '\"]').parent('.day');\n          day.removeClass('active');\n          day.find('.badge').remove();\n          _results.push(day.find('a').removeAttr('href'));\n        }\n        return _results;\n      },\n      clearAll: function() {\n        var day, days, i, _i, _len, _results;\n        this.options.events = {};\n        days = this.$element.find('[data-group=\"days\"] .day');\n        _results = [];\n        for (i = _i = 0, _len = days.length; _i < _len; i = ++_i) {\n          day = days[i];\n          $(day).removeClass('active');\n          $(day).find('.badge').remove();\n          _results.push($(day).find('a').removeAttr('href'));\n        }\n        return _results;\n      },\n      setMonthYear: function(dateString) {\n        var time;\n        time = this.splitDateString(dateString);\n        this.currentMonth = this.drawDays(time.year, time.month);\n        return this.currentYear = time.year;\n      },\n      prev: function() {\n        if (this.currentMonth - 1 < 0) {\n          this.currentYear = this.currentYear - 1;\n          this.currentMonth = 11;\n        } else {\n          this.currentMonth = this.currentMonth - 1;\n        }\n        this.drawDays(this.currentYear, this.currentMonth);\n        if (this.options.onMonthChange) {\n          this.options.onMonthChange.call(this);\n        }\n        return null;\n      },\n      next: function() {\n        if (this.currentMonth + 1 > 11) {\n          this.currentYear = this.currentYear + 1;\n          this.currentMonth = 0;\n        } else {\n          this.currentMonth = this.currentMonth + 1;\n        }\n        this.drawDays(this.currentYear, this.currentMonth);\n        if (this.options.onMonthChange) {\n          this.options.onMonthChange.call(this);\n        }\n        return null;\n      },\n      curr: function() {\n        this.currentYear = this.time.getFullYear();\n        this.currentMonth = this.time.getMonth();\n        this.drawDays(this.currentYear, this.currentMonth);\n        if (this.options.onMonthChange) {\n          this.options.onMonthChange.call(this);\n        }\n        return null;\n      },\n      addOthers: function(day, dayEvents) {\n        var badge;\n        if (typeof dayEvents === \"object\") {\n          if (dayEvents.number != null) {\n            badge = $(\"<span></span>\").html(dayEvents.number).addClass(\"badge\");\n            if (dayEvents.badgeClass != null) {\n              badge.addClass(dayEvents.badgeClass);\n            }\n            day.append(badge);\n          }\n          if (dayEvents.url) {\n            day.find(\"a\").attr(\"href\", dayEvents.url);\n          }\n        }\n        return day;\n      },\n      makeActive: function(day, dayEvents) {\n        var classes, eventClass, i, _i, _len;\n        if (dayEvents) {\n          if (dayEvents[\"class\"]) {\n            classes = dayEvents[\"class\"].split(\" \");\n            for (i = _i = 0, _len = classes.length; _i < _len; i = ++_i) {\n              eventClass = classes[i];\n              day.addClass(eventClass);\n            }\n          } else {\n            day.addClass(\"active\");\n          }\n          day = this.addOthers(day, dayEvents);\n        }\n        return day;\n      },\n      getDaysInMonth: function(year, month) {\n        return new Date(year, month + 1, 0).getDate();\n      },\n      drawDay: function(lastDayOfMonth, yearNum, monthNum, dayNum, i) {\n        var calcDate, dateNow, dateString, day, dayDate, pastFutureClass;\n        day = $(\"<div></div>\").addClass(\"day\");\n        dateNow = new Date();\n        dateNow.setHours(0, 0, 0, 0);\n        dayDate = new Date(yearNum, monthNum - 1, dayNum);\n        if (dayDate.getTime() < dateNow.getTime()) {\n          pastFutureClass = \"past\";\n        } else if (dayDate.getTime() === dateNow.getTime()) {\n          pastFutureClass = \"today\";\n        } else {\n          pastFutureClass = \"future\";\n        }\n        day.addClass(this.weekDays[i % 7]);\n        day.addClass(pastFutureClass);\n        dateString = yearNum + \"-\" + this.addLeadingZero(monthNum) + \"-\" + this.addLeadingZero(dayNum);\n        if (dayNum <= 0 || dayNum > lastDayOfMonth) {\n          calcDate = new Date(yearNum, monthNum - 1, dayNum);\n          dayNum = calcDate.getDate();\n          monthNum = calcDate.getMonth() + 1;\n          yearNum = calcDate.getFullYear();\n          day.addClass(\"not-current\").addClass(pastFutureClass);\n          if (this.options.activateNonCurrentMonths) {\n            dateString = yearNum + \"-\" + this.addLeadingZero(monthNum) + \"-\" + this.addLeadingZero(dayNum);\n          }\n        }\n        day.append($(\"<a>\" + dayNum + \"</a>\").attr(\"data-day\", dayNum).attr(\"data-month\", monthNum).attr(\"data-year\", yearNum));\n        if (this.options.monthChangeAnimation) {\n          this.applyTransform(day, 'rotateY(180deg)');\n          this.applyBackfaceVisibility(day);\n        }\n        day = this.makeActive(day, this.options.events[dateString]);\n        return this.$element.find('[data-group=\"days\"]').append(day);\n      },\n      drawDays: function(year, month) {\n        var currentMonth, day, dayBase, days, delay, draw, firstDayOfMonth, i, lastDayOfMonth, loopBase, monthNum, multiplier, thisRef, time, timeout, yearNum, _i, _len;\n        thisRef = this;\n        time = new Date(year, month);\n        currentMonth = time.getMonth();\n        monthNum = time.getMonth() + 1;\n        yearNum = time.getFullYear();\n        time.setDate(1);\n        firstDayOfMonth = this.options.startFromSunday ? time.getDay() + 1 : time.getDay() || 7;\n        lastDayOfMonth = this.getDaysInMonth(year, month);\n        timeout = 0;\n        if (this.options.monthChangeAnimation) {\n          days = this.$element.find('[data-group=\"days\"] .day');\n          for (i = _i = 0, _len = days.length; _i < _len; i = ++_i) {\n            day = days[i];\n            delay = i * 0.01;\n            this.applyTransition($(day), 'transform .5s ease ' + delay + 's');\n            this.applyTransform($(day), 'rotateY(180deg)');\n            this.applyBackfaceVisibility($(day));\n            timeout = (delay + 0.1) * 1000;\n          }\n        }\n        dayBase = 2;\n        if (this.options.allRows) {\n          loopBase = 42;\n        } else {\n          multiplier = Math.ceil((firstDayOfMonth - (dayBase - 1) + lastDayOfMonth) / 7);\n          loopBase = multiplier * 7;\n        }\n        this.$element.find(\"[data-head-year]\").html(time.getFullYear());\n        this.$element.find(\"[data-head-month]\").html(this.options.translateMonths[time.getMonth()]);\n        draw = function() {\n          var dayNum, setEvents;\n          thisRef.$element.find('[data-group=\"days\"]').empty();\n          dayNum = dayBase - firstDayOfMonth;\n          i = thisRef.options.startFromSunday ? 0 : 1;\n          while (dayNum < loopBase - firstDayOfMonth + dayBase) {\n            thisRef.drawDay(lastDayOfMonth, yearNum, monthNum, dayNum, i);\n            dayNum = dayNum + 1;\n            i = i + 1;\n          }\n          setEvents = function() {\n            var _j, _len1;\n            days = thisRef.$element.find('[data-group=\"days\"] .day');\n            for (i = _j = 0, _len1 = days.length; _j < _len1; i = ++_j) {\n              day = days[i];\n              thisRef.applyTransition($(day), 'transform .5s ease ' + (i * 0.01) + 's');\n              thisRef.applyTransform($(day), 'rotateY(0deg)');\n            }\n            if (thisRef.options.onDayClick) {\n              thisRef.$element.find('[data-group=\"days\"] .day a').click(function() {\n                return thisRef.options.onDayClick.call(this, thisRef.options.events);\n              });\n            }\n            if (thisRef.options.onDayHover) {\n              thisRef.$element.find('[data-group=\"days\"] .day a').hover(function() {\n                return thisRef.options.onDayHover.call(this, thisRef.options.events);\n              });\n            }\n            if (thisRef.options.onActiveDayClick) {\n              thisRef.$element.find('[data-group=\"days\"] .day.active a').click(function() {\n                return thisRef.options.onActiveDayClick.call(this, thisRef.options.events);\n              });\n            }\n            if (thisRef.options.onActiveDayHover) {\n              return thisRef.$element.find('[data-group=\"days\"] .day.active a').hover(function() {\n                return thisRef.options.onActiveDayHover.call(this, thisRef.options.events);\n              });\n            }\n          };\n          return setTimeout(setEvents, 0);\n        };\n        setTimeout(draw, timeout);\n        return currentMonth;\n      }\n    };\n    $.fn.responsiveCalendar = function(option, params) {\n      var init, options, publicFunc;\n      options = $.extend({}, $.fn.responsiveCalendar.defaults, typeof option === 'object' && option);\n      publicFunc = {\n        next: 'next',\n        prev: 'prev',\n        edit: 'editDays',\n        clear: 'clearDays',\n        clearAll: 'clearAll',\n        getYearMonth: 'getYearMonth',\n        jump: 'jump',\n        curr: 'curr'\n      };\n      init = function($this) {\n        var data;\n        options = $.metadata ? $.extend({}, options, $this.metadata()) : options;\n        $this.data('calendar', (data = new Calendar($this, options)));\n        if (options.onInit) {\n          options.onInit.call(data);\n        }\n        return $this.find(\"[data-go]\").click(function() {\n          if ($(this).data(\"go\") === \"prev\") {\n            data.prev();\n          }\n          if ($(this).data(\"go\") === \"next\") {\n            return data.next();\n          }\n        });\n      };\n      return this.each(function() {\n        var $this, data;\n        $this = $(this);\n        data = $this.data('calendar');\n        if (!data) {\n          init($this);\n        } else if (typeof option === 'string') {\n          if (publicFunc[option] != null) {\n            data[publicFunc[option]](params);\n          } else {\n            data.setMonthYear(option);\n          }\n        } else if (typeof option === 'number') {\n          data.jump(Math.abs(option) + 1);\n        }\n        return null;\n      });\n    };\n    $.fn.responsiveCalendar.defaults = {\n      translateMonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      events: {},\n      time: void 0,\n      allRows: true,\n      startFromSunday: false,\n      activateNonCurrentMonths: false,\n      monthChangeAnimation: true,\n      onInit: void 0,\n      onDayClick: void 0,\n      onDayHover: void 0,\n      onActiveDayClick: void 0,\n      onActiveDayHover: void 0,\n      onMonthChange: void 0\n    };\n    spy = $('[data-spy=\"responsive-calendar\"]');\n    if (spy.length) {\n      opts = {};\n      if ((spy.data('translate-months')) != null) {\n        opts.translateMonths = spy.data('translate-months').split(',');\n      }\n      if ((spy.data('time')) != null) {\n        opts.time = spy.data('time');\n      }\n      if ((spy.data('all-rows')) != null) {\n        opts.allRows = spy.data('all-rows');\n      }\n      if ((spy.data('start-from-sunday')) != null) {\n        opts.startFromSunday = spy.data('start-from-sunday');\n      }\n      if ((spy.data('activate-non-current-months')) != null) {\n        opts.activateNonCurrentMonths = spy.data('activate-non-current-months');\n      }\n      if ((spy.data('month-change-animation')) != null) {\n        opts.monthChangeAnimation = spy.data('month-change-animation');\n      }\n      return spy.responsiveCalendar(opts);\n    }\n  })(jQuery);\n\n}).call(this);\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/lib/responsive-calendar.js"],"sourceRoot":""}